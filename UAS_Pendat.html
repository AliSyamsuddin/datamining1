
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>~ Model Klasifikasi Data “𝓗𝓮𝓪𝓻𝓽 𝓕𝓪𝓲𝓵𝓾𝓻𝓮 𝓒𝓵𝓲𝓷𝓲𝓬𝓪𝓵 𝓡𝓮𝓬𝓸𝓻𝓭𝓼” ~ &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="assets/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="assets/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="assets/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="assets/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="assets/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="assets/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="assets/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="assets/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="assets/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="assets/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="assets/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="assets/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="assets/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="assets/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="assets/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="assets/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="assets/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="assets/documentation_options.js?v=9eb32ce0"></script>
    <script src="assets/doctools.js?v=888ff710"></script>
    <script src="assets/sphinx_highlight.js?v=dc90522c"></script>
    <script src="assets/clipboard.min.js?v=a7894cd8"></script>
    <script src="assets/copybutton.js?v=f281be69"></script>
    <script src="assets/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="assets/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="assets/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="assets/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'UAS_Pendat';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Notebooks with MyST Markdown" href="markdown-notebooks.html" />
    <link rel="prev" title="Markdown Files" href="markdown.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="assets/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="assets/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="markdown.html">Markdown Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tugas2.html">𝔻𝔸𝕋𝔸 𝕄𝕀ℕ𝕀ℕ𝔾</a></li>



















<li class="toctree-l1"><a class="reference internal" href="markdown-notebooks.html">Notebooks with MyST Markdown</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FUAS_Pendat.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/UAS_Pendat.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>~ Model Klasifikasi Data “𝓗𝓮𝓪𝓻𝓽 𝓕𝓪𝓲𝓵𝓾𝓻𝓮 𝓒𝓵𝓲𝓷𝓲𝓬𝓪𝓵 𝓡𝓮𝓬𝓸𝓻𝓭𝓼” ~</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">~ Model Klasifikasi Data “𝓗𝓮𝓪𝓻𝓽 𝓕𝓪𝓲𝓵𝓾𝓻𝓮 𝓒𝓵𝓲𝓷𝓲𝓬𝓪𝓵 𝓡𝓮𝓬𝓸𝓻𝓭𝓼” ~</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#a-analisis-untuk-memprediksi-kematian-akibat-gagal-jantung">A. Analisis Untuk Memprediksi Kematian Akibat Gagal Jantung.</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#latar-belakang-dan-tujuan">1. Latar Belakang dan Tujuan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-data">1.1 Deskripsi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-masalah">1.2 Deskripsi Masalah</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#b-memahami-data-heart-failure-clinical-records">B. Memahami Data Heart Failure Clinical Records</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-data">2. Apa Itu Data?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengumpulan-data-mencari-dataset">2.1 Pengumpulan Data (Mencari Dataset)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-dan-menampilkan-dataset">2.3 Mengambil dan Menampilkan Dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-penjelasan-dataset">2.4 Deskripsi Penjelasan Dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-mengetahui-kualitas-datasets-heart-failure-clinical-records">2.5 Explore / Mengetahui Kualitas Datasets Heart Failure Clinical Records</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jumlah-data-fitur-dan-tipe-data">2.5.1 Jumlah Data Fitur dan Tipe Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jumlah-data-dari-datasets-raisin">2.5.2 Jumlah Data Dari Datasets Raisin</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-datasets">2.5.3 Deskripsi Datasets</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-kualitas-data">3. Identifikasi Kualitas Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-data-missing-values">3.1 Deteksi Data Missing Values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-data-outlier">3.2 Deteksi Data Outlier</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-duplikasi-datasets">3.3 Deteksi Duplikasi Datasets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#c-preprocessing-data">C. Preprocessing Data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#d-modelling">D. Modelling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemilihan-model">4. Pemilihan Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gaussian-naive-bayes-classification">4.1 GAUSSIAN NAIVE BAYES CLASSIFICATION</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#melakukan-prediksi-dengan-bantuan-sklearn-naive-bayes">4.1.1 Melakukan Prediksi dengan bantuan Sklearn Naive Bayes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-learning">4.2 Ensemble Learning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stacking-classifier-meta-classifier">4.2.1 Stacking Classifier (Meta Classifier)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bagging-bootstrap-aggregating">4.2.2 Bagging (Bootstrap Aggregating)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#e-kesimpulan-hasil-model-yang-didapatkan">E. Kesimpulan Hasil Model Yang Didapatkan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#f-deployment-implementasi-model">F. Deployment Implementasi Model</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-implementasi-web">G. Implementasi Web</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="model-klasifikasi-data-eart-ailure-linical-ecords">
<h1>~ Model Klasifikasi Data “𝓗𝓮𝓪𝓻𝓽 𝓕𝓪𝓲𝓵𝓾𝓻𝓮 𝓒𝓵𝓲𝓷𝓲𝓬𝓪𝓵 𝓡𝓮𝓬𝓸𝓻𝓭𝓼” ~<a class="headerlink" href="#model-klasifikasi-data-eart-ailure-linical-ecords" title="Link to this heading">#</a></h1>
<img src="gambar/image-20240620-202158.png" width="75%" align="" /></section>
<section class="tex2jax_ignore mathjax_ignore" id="a-analisis-untuk-memprediksi-kematian-akibat-gagal-jantung">
<h1>A. Analisis Untuk Memprediksi Kematian Akibat Gagal Jantung.<a class="headerlink" href="#a-analisis-untuk-memprediksi-kematian-akibat-gagal-jantung" title="Link to this heading">#</a></h1>
<p>Link Untuk Aplikasi Klasifikasi Gaussian Naive Bayes : <a class="reference external" href="https://tandonsky.pythonanywhere.com/">https://tandonsky.pythonanywhere.com/</a></p>
<p>Referensi : <a class="reference external" href="https://www.kaggle.com/code/baktisiregar/klasifikasi-supervised-learning/notebook">https://www.kaggle.com/code/baktisiregar/klasifikasi-supervised-learning/notebook</a></p>
<section id="latar-belakang-dan-tujuan">
<h2>1. Latar Belakang dan Tujuan<a class="headerlink" href="#latar-belakang-dan-tujuan" title="Link to this heading">#</a></h2>
<p>Penyakit kardiovaskular adalah penyebab utama kematian secara global, merenggut sekitar 17,9 juta jiwa setiap tahun, yang merupakan 31% dari seluruh kematian di dunia. Gagal jantung adalah salah satu kondisi umum yang diakibatkan oleh penyakit kardiovaskular dan seringkali memiliki dampak yang sangat signifikan pada kualitas hidup penderita. Kumpulan data ini mencakup 12 fitur yang bisa digunakan untuk memprediksi kematian akibat gagal jantung. Dengan menganalisis data ini, kita dapat mengidentifikasi pola dan faktor risiko utama yang berkontribusi pada tingginya angka kematian akibat gagal jantung, sehingga memungkinkan intervensi medis yang lebih tepat sasaran dan efektif untuk mengurangi beban penyakit ini di masa depan.</p>
<p>Sebagian besar penyakit kardiovaskular dapat dicegah dengan mengelola faktor risiko perilaku seperti merokok, pola makan yang tidak sehat, obesitas, kurangnya aktivitas fisik, dan konsumsi alkohol berlebih melalui strategi populasi. Orang dengan penyakit kardiovaskular atau yang berisiko tinggi (seperti hipertensi, diabetes, hiperlipidemia, atau kondisi kesehatan lainnya) dapat mengambil langkah-langkah pencegahan untuk mengurangi risiko mereka. Pemahaman mendalam tentang faktor-faktor yang mempengaruhi gagal jantung sangat penting untuk pengembangan strategi pencegahan dan pengobatan yang lebih baik. Analisis data dari kumpulan fitur ini dapat membantu dalam menciptakan model prediktif yang akurat untuk menilai risiko kematian pada pasien gagal jantung, serta merancang program perawatan yang dipersonalisasi dan efektif untuk meningkatkan kualitas hidup pasien serta mengurangi beban ekonomi dan sosial yang ditimbulkan oleh penyakit kardiovaskular.</p>
</section>
<section id="deskripsi-data">
<h2>1.1 Deskripsi Data<a class="headerlink" href="#deskripsi-data" title="Link to this heading">#</a></h2>
<p>Dataset dari Davide Chicco, Giuseppe Jurman memiliki 12 fitur dan 1 class target, yakni :</p>
<ol class="arabic simple">
<li><p>Age: usia pasien (dalam tahun)</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Anemia: Penurunan sel darah merah atau hemoglobin</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>High blood pressure: Jika pasien menderita hipertensi</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Creatinine phosphokinase: Tingkat enzim CPK dalam darah (mcg/L)</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Diabetes: Jika pasien menderita diabetes</p></li>
</ol>
<ol class="arabic simple" start="6">
<li><p>Ejection fraction: Persentase darah yang meninggalkan jantung pada setiap kontraksi</p></li>
</ol>
<ol class="arabic simple" start="7">
<li><p>Sex: Wanita atau pria</p></li>
</ol>
<ol class="arabic simple" start="8">
<li><p>Platelets: Trombosit dalam darah (kiloplatelet/mL)</p></li>
</ol>
<ol class="arabic simple" start="9">
<li><p>Serum creatinine: Tingkat kreatinin dalam darah (mg/dL)</p></li>
</ol>
<ol class="arabic simple" start="10">
<li><p>Serum sodium: Tingkat natrium dalam darah (mEq/L)</p></li>
</ol>
<ol class="arabic simple" start="11">
<li><p>Smoking: Jika pasien merokok</p></li>
</ol>
<ol class="arabic simple" start="12">
<li><p>Time:: Periode tindak lanjut (dalam hari)</p></li>
</ol>
<ol class="arabic simple" start="13">
<li><p>(target) death event: Jika pasien meninggal selama masa tindak lanjut</p></li>
</ol>
</section>
<section id="deskripsi-masalah">
<h2>1.2 Deskripsi Masalah<a class="headerlink" href="#deskripsi-masalah" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Membuat model untuk memprediksi kemungkinan pasien meninggal karena gagal jantung.</p></li>
</ul>
<ul class="simple">
<li><p>Ini adalah masalah klasifikasi biner karena kelas target (Kematian) terdiri dari dua kelas Benar atau Salah</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="b-memahami-data-heart-failure-clinical-records">
<h1>B. Memahami Data Heart Failure Clinical Records<a class="headerlink" href="#b-memahami-data-heart-failure-clinical-records" title="Link to this heading">#</a></h1>
<section id="apa-itu-data">
<h2>2. Apa Itu Data?<a class="headerlink" href="#apa-itu-data" title="Link to this heading">#</a></h2>
<p>Data adalah sekumpulan fakta atau informasi yang dapat digunakan untuk berbagai tujuan. Data bisa berbentuk angka, teks, gambar, suara, dan lain sebagainya. Dalam konteks teknologi dan ilmu pengetahuan, data sering digunakan untuk analisis, pengambilan keputusan, dan pengembangan aplikasi atau sistem.</p>
<p>Berikut adalah beberapa jenis data:</p>
<ul class="simple">
<li><p>Data Kuantitatif : Data yang berupa angka dan dapat diukur, seperti tinggi badan, berat badan, suhu, atau jumlah barang.</p></li>
</ul>
<ul class="simple">
<li></li>
</ul>
<p>Data Kualitatif : Data yang berbentuk deskripsi atau kategori, seperti warna, jenis kelamin, atau nama.</p>
<ul class="simple">
<li></li>
</ul>
<p>Data Terstruktur : Data yang terorganisir dalam format tertentu seperti tabel dalam basis data, yang memudahkan pengolahan dan analisis.</p>
<ul class="simple">
<li></li>
</ul>
<p>Data Tidak Terstruktur : Data yang tidak memiliki format tertentu, seperti teks dari artikel, foto, atau video.</p>
<ul class="simple">
<li></li>
</ul>
<p>Data Waktu Nyata (Real-Time) : Data yang diperoleh dan dianalisis saat kejadian berlangsung, seperti data dari sensor di mesin pabrik.</p>
<p>Lalu untuk Pemahaman data (data understanding) adalah tahap awal dalam proses analisis data atau proyek pembelajaran mesin yang bertujuan untuk memahami data yang akan digunakan. Tahap ini melibatkan beberapa langkah penting untuk memastikan bahwa data yang tersedia dapat digunakan secara efektif untuk mencapai tujuan analisis atau model. Berikut adalah beberapa elemen kunci dalam pemahaman data:</p>
<ol class="arabic simple">
<li><p>Pengumpulan Data : Mengumpulkan data dari berbagai sumber yang relevan dengan masalah yang ingin dipecahkan.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Deskripsi Data : Menyediakan deskripsi umum tentang data, termasuk ukuran dataset, tipe data, dan struktur data. Ini mencakup pembuatan ringkasan statistik dasar seperti rata-rata, median, modus, standar deviasi, dan distribusi data.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Eksplorasi Data : Menganalisis data secara lebih mendalam untuk menemukan pola, tren, anomali, atau hubungan antara variabel. Ini sering melibatkan visualisasi data menggunakan grafik dan plot.</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Kualitas Data : Menilai kualitas data dengan memeriksa keberadaan nilai yang hilang, data yang duplikat, atau data yang tidak konsisten. Ini juga termasuk identifikasi dan penanganan outlier.</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Transformasi Data : Melakukan pembersihan dan transformasi data jika diperlukan, seperti menangani data yang hilang, mengubah format data, atau menggabungkan beberapa sumber data.</p></li>
</ol>
<ol class="arabic simple" start="6">
<li><p>Pahami Konteks Bisnis : Menghubungkan data dengan konteks bisnis atau domain masalah untuk memastikan relevansi dan memastikan bahwa analisis atau model yang dikembangkan akan bermanfaat dan sesuai dengan tujuan bisnis.</p></li>
</ol>
<ol class="arabic simple" start="7">
<li><p>Dokumentasi : Mendokumentasikan temuan dan pemahaman tentang data untuk referensi di masa depan dan untuk memastikan bahwa orang lain yang bekerja dengan data tersebut memiliki pemahaman yang sama.</p></li>
</ol>
<p>Pemahaman data yang baik adalah dasar yang penting untuk analisis data yang efektif dan pengembangan model pembelajaran mesin yang akurat dan dapat diandalkan.</p>
</section>
<section id="pengumpulan-data-mencari-dataset">
<h2>2.1 Pengumpulan Data (Mencari Dataset)<a class="headerlink" href="#pengumpulan-data-mencari-dataset" title="Link to this heading">#</a></h2>
<p>Langkah pertama pada pengumpulan data adalah dengan mencari dataset yang akan kita gunakan, sesuai penjelasan di atas kita akan menggunakan Dataset Heart Failure Clinical Records yang bersumber dari UCI Datasets :</p>
<p>Berikut adalah sumber Datasetsnya : <a class="reference external" href="https://archive.ics.uci.edu/dataset/519/heart+failure+clinical+records">https://archive.ics.uci.edu/dataset/519/heart+failure+clinical+records</a></p>
</section>
<section id="mengambil-dan-menampilkan-dataset">
<h2>2.3 Mengambil dan Menampilkan Dataset<a class="headerlink" href="#mengambil-dan-menampilkan-dataset" title="Link to this heading">#</a></h2>
<p>Setelah menentukan Datasets langkah selanjutnya yakni menampilkan atau mengambil datasets tersebut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>ucimlrepo
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span> 

<span class="c1"># Mengambil dataset heart failure dari UCI Repository</span>
<span class="n">heart_failure_clinical_records</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">519</span><span class="p">)</span> 

<span class="c1"># Menampilkan metadata dataset</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Metadata:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>

<span class="c1"># Menampilkan informasi variabel (fitur dan target)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Informasi Variabel:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span>
  
<span class="c1"># data (as pandas dataframes) </span>
<span class="n">X</span> <span class="o">=</span> <span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span> 
<span class="n">y</span> <span class="o">=</span> <span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span> 

<span class="c1"># Contoh untuk menunjukkan bagaimana mengakses X dan y:</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Contoh data fitur (X):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Contoh data target (y):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ucimlrepo in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (0.0.7)
Requirement already satisfied: pandas&gt;=1.0.0 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from ucimlrepo) (2.2.2)
Requirement already satisfied: certifi&gt;=2020.12.5 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from ucimlrepo) (2024.2.2)
Requirement already satisfied: numpy&gt;=1.26.0 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.0.0)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.1)
Requirement already satisfied: tzdata&gt;=2022.7 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.1)
Requirement already satisfied: six&gt;=1.5 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;=1.0.0-&gt;ucimlrepo) (1.16.0)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[notice] A new release of pip is available: 24.0 -&gt; 24.1
[notice] To update, run: python.exe -m pip install --upgrade pip
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Metadata:
{&#39;uci_id&#39;: 519, &#39;name&#39;: &#39;Heart Failure Clinical Records&#39;, &#39;repository_url&#39;: &#39;https://archive.ics.uci.edu/dataset/519/heart+failure+clinical+records&#39;, &#39;data_url&#39;: &#39;https://archive.ics.uci.edu/static/public/519/data.csv&#39;, &#39;abstract&#39;: &#39;This dataset contains the medical records of 299 patients who had heart failure, collected during their follow-up period, where each patient profile has 13 clinical features.&#39;, &#39;area&#39;: &#39;Health and Medicine&#39;, &#39;tasks&#39;: [&#39;Classification&#39;, &#39;Regression&#39;, &#39;Clustering&#39;], &#39;characteristics&#39;: [&#39;Multivariate&#39;], &#39;num_instances&#39;: 299, &#39;num_features&#39;: 12, &#39;feature_types&#39;: [&#39;Integer&#39;, &#39;Real&#39;], &#39;demographics&#39;: [&#39;Age&#39;, &#39;Sex&#39;], &#39;target_col&#39;: [&#39;death_event&#39;], &#39;index_col&#39;: None, &#39;has_missing_values&#39;: &#39;no&#39;, &#39;missing_values_symbol&#39;: None, &#39;year_of_dataset_creation&#39;: 2020, &#39;last_updated&#39;: &#39;Mon Feb 26 2024&#39;, &#39;dataset_doi&#39;: &#39;10.24432/C5Z89R&#39;, &#39;creators&#39;: [], &#39;intro_paper&#39;: {&#39;title&#39;: &#39;Machine learning can predict survival of patients with heart failure from serum creatinine and ejection fraction alone&#39;, &#39;authors&#39;: &#39;D. Chicco, Giuseppe Jurman&#39;, &#39;published_in&#39;: &#39;BMC Medical Informatics and Decision Making&#39;, &#39;year&#39;: 2020, &#39;url&#39;: &#39;https://www.semanticscholar.org/paper/e64579d8593140396b518682bb3a47ba246684eb&#39;, &#39;doi&#39;: None}, &#39;additional_info&#39;: {&#39;summary&#39;: &#39;A detailed description of the dataset can be found in the Dataset section of the following paper: \r\n\r\nDavide Chicco, Giuseppe Jurman: &quot;Machine learning can predict survival of patients with heart failure from serum creatinine and ejection fraction alone&quot;. BMC Medical Informatics and Decision Making 20, 16 (2020). https://doi.org/10.1186/s12911-020-1023-5 \r\n&#39;, &#39;purpose&#39;: None, &#39;funded_by&#39;: None, &#39;instances_represent&#39;: None, &#39;recommended_data_splits&#39;: None, &#39;sensitive_data&#39;: None, &#39;preprocessing_description&#39;: None, &#39;variable_info&#39;: &#39;Thirteen (13) clinical features:\n\n- age: age of the patient (years)\n- anaemia: decrease of red blood cells or hemoglobin (boolean)\n- creatinine phosphokinase  (CPK): level of the CPK enzyme in the blood (mcg/L)\n- diabetes: if the patient has diabetes (boolean)\n- ejection fraction: percentage of blood leaving the heart at each contraction  (percentage)\n- high blood pressure: if the patient has hypertension (boolean)\n- platelets: platelets in the blood (kiloplatelets/mL)\n- sex: woman or man (binary)\n- serum creatinine: level of serum creatinine in the blood (mg/dL)\n- serum sodium: level of serum sodium in the blood (mEq/L)\n- smoking: if the patient smokes or not (boolean)\n- time: follow-up period (days)\n- [target] death event: if the patient died during the follow-up period (boolean)\n\nFor more information, please check Table 1, Table 2, and Table 3 of the following paper: \n\nDavide Chicco, Giuseppe Jurman: &quot;Machine learning can predict survival of patients with heart failure from serum creatinine and ejection fraction alone&quot;. BMC Medical Informatics and Decision Making 20, 16 (2020). https://doi.org/10.1186/s12911-020-1023-5 \n&#39;, &#39;citation&#39;: None}}

Informasi Variabel:
                        name     role        type demographic  \
0                        age  Feature     Integer         Age   
1                    anaemia  Feature      Binary        None   
2   creatinine_phosphokinase  Feature     Integer        None   
3                   diabetes  Feature      Binary        None   
4          ejection_fraction  Feature     Integer        None   
5        high_blood_pressure  Feature      Binary        None   
6                  platelets  Feature  Continuous        None   
7           serum_creatinine  Feature  Continuous        None   
8               serum_sodium  Feature     Integer        None   
9                        sex  Feature      Binary         Sex   
10                   smoking  Feature      Binary        None   
11                      time  Feature     Integer        None   
12               death_event   Target      Binary        None   

                                          description             units  \
0                                  age of the patient             years   
1           decrease of red blood cells or hemoglobin              None   
2                level of the CPK enzyme in the blood             mcg/L   
3                         if the patient has diabetes              None   
4   percentage of blood leaving the heart at each ...                 %   
5                     if the patient has hypertension              None   
6                              platelets in the blood  kiloplatelets/mL   
7              level of serum creatinine in the blood             mg/dL   
8                  level of serum sodium in the blood             mEq/L   
9                                        woman or man              None   
10                       if the patient smokes or not              None   
11                                   follow-up period              days   
12    if the patient died during the follow-up period              None   

   missing_values  
0              no  
1              no  
2              no  
3              no  
4              no  
5              no  
6              no  
7              no  
8              no  
9              no  
10             no  
11             no  
12             no  

Contoh data fitur (X):
    age  anaemia  creatinine_phosphokinase  diabetes  ejection_fraction  \
0  75.0        0                       582         0                 20   
1  55.0        0                      7861         0                 38   
2  65.0        0                       146         0                 20   
3  50.0        1                       111         0                 20   
4  65.0        1                       160         1                 20   

   high_blood_pressure  platelets  serum_creatinine  serum_sodium  sex  \
0                    1  265000.00               1.9           130    1   
1                    0  263358.03               1.1           136    1   
2                    0  162000.00               1.3           129    1   
3                    0  210000.00               1.9           137    1   
4                    0  327000.00               2.7           116    0   

   smoking  time  
0        0     4  
1        0     6  
2        1     7  
3        0     7  
4        0     8  

Contoh data target (y):
   death_event
0            1
1            1
2            1
3            1
4            1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>ucimlrepo
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span> 
  
<span class="n">heart_failure_clinical_records</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">519</span><span class="p">)</span> 
  
<span class="c1"># data (as pandas dataframes) </span>
<span class="n">X</span> <span class="o">=</span> <span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span> 
<span class="n">y</span> <span class="o">=</span> <span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span> 

<span class="n">df_heart_failure_clinical_records</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="n">df_heart_failure_clinical_records</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;heart_failure_clinical_records.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1">#variable features</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_heart_failure_clinical_records</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[notice] A new release of pip is available: 24.0 -&gt; 24.1
[notice] To update, run: python.exe -m pip install --upgrade pip
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ucimlrepo in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (0.0.7)
Requirement already satisfied: pandas&gt;=1.0.0 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from ucimlrepo) (2.2.2)
Requirement already satisfied: certifi&gt;=2020.12.5 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from ucimlrepo) (2024.2.2)
Requirement already satisfied: numpy&gt;=1.26.0 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.0.0)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.1)
Requirement already satisfied: tzdata&gt;=2022.7 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.1)
Requirement already satisfied: six&gt;=1.5 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;=1.0.0-&gt;ucimlrepo) (1.16.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      age  anaemia  creatinine_phosphokinase  diabetes  ejection_fraction  \
0    75.0        0                       582         0                 20   
1    55.0        0                      7861         0                 38   
2    65.0        0                       146         0                 20   
3    50.0        1                       111         0                 20   
4    65.0        1                       160         1                 20   
..    ...      ...                       ...       ...                ...   
294  62.0        0                        61         1                 38   
295  55.0        0                      1820         0                 38   
296  45.0        0                      2060         1                 60   
297  45.0        0                      2413         0                 38   
298  50.0        0                       196         0                 45   

     high_blood_pressure  platelets  serum_creatinine  serum_sodium  sex  \
0                      1  265000.00               1.9           130    1   
1                      0  263358.03               1.1           136    1   
2                      0  162000.00               1.3           129    1   
3                      0  210000.00               1.9           137    1   
4                      0  327000.00               2.7           116    0   
..                   ...        ...               ...           ...  ...   
294                    1  155000.00               1.1           143    1   
295                    0  270000.00               1.2           139    0   
296                    0  742000.00               0.8           138    0   
297                    0  140000.00               1.4           140    1   
298                    0  395000.00               1.6           136    1   

     smoking  time  death_event  
0          0     4            1  
1          0     6            1  
2          1     7            1  
3          0     7            1  
4          0     8            1  
..       ...   ...          ...  
294        1   270            0  
295        0   271            0  
296        0   278            0  
297        1   280            0  
298        1   285            0  

[299 rows x 13 columns]
</pre></div>
</div>
</div>
</div>
<p>Kode tersebut digunakan untuk mengambil dataset “Heart Failure Clinical Records” dari UCI Machine Learning Repository. Pertama, pustaka ucimlrepo diinstal dan kemudian dataset dengan ID 519 diambil. Dataset ini berisi fitur-fitur klinis dan target variabel yang memprediksi kematian akibat gagal jantung. Data fitur disimpan dalam variabel X dan target variabel disimpan dalam Y. Kedua variabel ini kemudian digabungkan menjadi satu DataFrame df_heart_failure_clinical_records, yang selanjutnya disimpan ke dalam file CSV bernama “heart_failure_clinical_records.csv”. DataFrame ini kemudian dicetak untuk dilihat isinya. Data ini akan digunakan untuk Analisis Kasus kali ini. Sebelum melanjutkan ke proses berikutnya, penting untuk memahami dataset ini, yang bertujuan untuk memprediksi kematian akibat gagal jantung berdasarkan beberapa fitur klinis yang terkait dengan setiap pasien.</p>
</section>
<section id="deskripsi-penjelasan-dataset">
<h2>2.4 Deskripsi Penjelasan Dataset<a class="headerlink" href="#deskripsi-penjelasan-dataset" title="Link to this heading">#</a></h2>
<p>Dataset “Heart Failure Clinical Records” merupakan kumpulan data yang berisi informasi klinis pasien yang digunakan untuk memprediksi kematian akibat gagal jantung. Dataset ini mencakup berbagai fitur yang mendetail tentang kondisi kesehatan dan karakteristik demografis pasien. Berikut adalah deskripsi mendetail dari setiap fitur dalam dataset :</p>
<ol class="arabic simple">
<li><p>Age (Usia) : Merupakan usia pasien yang diukur dalam tahun. Usia adalah faktor penting dalam analisis kesehatan karena risiko banyak penyakit, termasuk gagal jantung, meningkat seiring bertambahnya usia.</p></li>
</ol>
<p>Peran : Feature
Tipe : Integer
Demografis : Age
Units : Years
Missing Values : No</p>
<ol class="arabic simple" start="2">
<li><p>Anemia : Kondisi medis yang menunjukkan adanya penurunan jumlah sel darah merah atau kadar hemoglobin dalam darah. Anemia dapat mempengaruhi kapasitas darah untuk mengangkut oksigen, yang penting untuk fungsi jantung dan otot.</p></li>
</ol>
<p>Peran : Feature
Tipe : Binary
Demografis : -
Units : -
Missing Values : No</p>
<ol class="arabic simple" start="3">
<li><p>High blood pressure (Tekanan darah tinggi) : Indikator apakah pasien menderita hipertensi. Hipertensi adalah faktor risiko utama untuk penyakit kardiovaskular, termasuk gagal jantung.</p></li>
</ol>
<p>Peran : Feature
Tipe : Binary
Demografis : -
Units : -
Missing Values : No</p>
<ol class="arabic simple" start="4">
<li><p>Creatinine phosphokinase (CPK) : Tingkat enzim kreatinin fosfokinase dalam darah, diukur dalam mikrogram per liter (mcg/L). Enzim ini dilepaskan ke dalam darah ketika otot, termasuk otot jantung, rusak atau mengalami stres.</p></li>
</ol>
<p>Peran : Feature
Tipe : Integer
Demografis : -
Units : mcg/L
Missing Values : No</p>
<ol class="arabic simple" start="5">
<li><p>Diabetes : Indikator apakah pasien menderita diabetes. Diabetes dapat memperburuk kondisi jantung dan mempercepat perkembangan gagal jantung karena menyebabkan kerusakan pada pembuluh darah dan saraf yang mengontrol jantung.</p></li>
</ol>
<p>Peran : Feature
Tipe : Binary
Demografis : -
Units : -
Missing Values : No</p>
<ol class="arabic simple" start="6">
<li><p>Ejection fraction : Persentase darah yang dipompa keluar dari ventrikel kiri jantung pada setiap kontraksi. Nilai ini merupakan indikator penting dari fungsi jantung; nilai yang rendah dapat menunjukkan adanya kerusakan pada jantung.</p></li>
</ol>
<p>Peran : Feature
Tipe : Integer
Demografis : -
Units : %
Missing Values : no</p>
<ol class="arabic simple" start="7">
<li><p>Sex (Jenis kelamin) : Jenis kelamin pasien, dicatat sebagai wanita atau pria. Jenis kelamin dapat mempengaruhi risiko dan perkembangan berbagai penyakit, termasuk gagal jantung.</p></li>
</ol>
<p>Peran : Feature
Tipe : Binary
Demografis : Sex
Units : -
Missing Values : No</p>
<ol class="arabic simple" start="8">
<li><p>Platelets (Trombosit) : Jumlah trombosit dalam darah, diukur dalam kiloplatelet per mililiter (kilo/mL). Trombosit berperan penting dalam proses pembekuan darah dan penyembuhan luka. Abnormalitas dalam jumlah trombosit dapat menunjukkan berbagai kondisi kesehatan.</p></li>
</ol>
<p>Peran : Feature
Tipe : Continuous
Demografis : -
Units : kiloplatelets/mL
Missing Values : No</p>
<ol class="arabic simple" start="9">
<li><p>Serum creatinine : Tingkat kreatinin dalam darah, diukur dalam miligram per desiliter (mg/dL). Kreatinin adalah produk limbah dari metabolisme otot, dan tingkatnya dalam darah digunakan untuk menilai fungsi ginjal.</p></li>
</ol>
<p>Peran : Feature
Tipe : Continuous
Demografis : -
Units : mg/dL
Missing Values : No</p>
<ol class="arabic simple" start="10">
<li><p>Serum sodium : Tingkat natrium dalam darah, diukur dalam miliekivalen per liter (mEq/L). Kadar natrium yang tidak normal dapat mempengaruhi fungsi seluler dan dapat menjadi indikator ketidakseimbangan cairan dalam tubuh.</p></li>
</ol>
<p>Peran : Feature
Tipe : Integer
Demografis : -
Units : mEq/L
Missing Values : No</p>
<ol class="arabic simple" start="11">
<li><p>Smoking (Merokok) : Indikator apakah pasien merokok. Merokok adalah faktor risiko utama untuk penyakit kardiovaskular, termasuk gagal jantung, karena dapat menyebabkan kerusakan pada pembuluh darah dan jantung.</p></li>
</ol>
<p>Peran : Feature
Tipe : Binary
Demografis : -
Units : -
Missing Values : No</p>
<ol class="arabic simple" start="12">
<li><p>Time (Waktu) : Periode tindak lanjut pasien yang diukur dalam hari. Ini mengukur durasi waktu dari saat pasien mulai diamati hingga akhir periode penelitian atau kejadian kematian.</p></li>
</ol>
<p>Peran : Feature
Tipe : Integer
Demografis : -
Units : Days
Missing Values : No</p>
<ol class="arabic simple" start="13">
<li><p>Death event (Kematian) : Target variabel yang menunjukkan apakah pasien meninggal selama masa tindak lanjut. Variabel ini adalah variabel dependen yang digunakan dalam analisis untuk memprediksi risiko kematian berdasarkan fitur-fitur klinis lainnya.</p></li>
</ol>
<p>Peran : Target
Tipe : Binary
Demografis : -
Units : -
Missing Values : No</p>
<p>Pada dataset “Heart Failure Clinical Records”, target variabel yang disebut death event berisi informasi tentang status kematian pasien selama masa tindak lanjut. Target ini adalah variabel biner, yang biasanya berisi dua nilai:</p>
<ul class="simple">
<li><p>0 : Menunjukkan bahwa pasien tidak meninggal selama masa tindak lanjut.</p></li>
<li><p>1 : Menunjukkan bahwa pasien meninggal selama masa tindak lanjut.</p></li>
</ul>
<p>Dengan kata lain, target ini mengindikasikan apakah kejadian kematian terjadi pada pasien yang diikuti dalam penelitian tersebut.</p>
</section>
<section id="explore-mengetahui-kualitas-datasets-heart-failure-clinical-records">
<h2>2.5 Explore / Mengetahui Kualitas Datasets Heart Failure Clinical Records<a class="headerlink" href="#explore-mengetahui-kualitas-datasets-heart-failure-clinical-records" title="Link to this heading">#</a></h2>
<section id="jumlah-data-fitur-dan-tipe-data">
<h3>2.5.1 Jumlah Data Fitur dan Tipe Data<a class="headerlink" href="#jumlah-data-fitur-dan-tipe-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_heart_failure_clinical_records</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 299 entries, 0 to 298
Data columns (total 13 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   age                       299 non-null    float64
 1   anaemia                   299 non-null    int64  
 2   creatinine_phosphokinase  299 non-null    int64  
 3   diabetes                  299 non-null    int64  
 4   ejection_fraction         299 non-null    int64  
 5   high_blood_pressure       299 non-null    int64  
 6   platelets                 299 non-null    float64
 7   serum_creatinine          299 non-null    float64
 8   serum_sodium              299 non-null    int64  
 9   sex                       299 non-null    int64  
 10  smoking                   299 non-null    int64  
 11  time                      299 non-null    int64  
 12  death_event               299 non-null    int64  
dtypes: float64(3), int64(10)
memory usage: 30.5 KB
</pre></div>
</div>
</div>
</div>
<p>Bisa kita ketahui dari hasil output code tersebut dalam datasets terdapat 299 data masing-masing 12 Features dan 1 target disana juga terdapat pengecekan tipe data dari setiap Kolom atau fiturnya.</p>
</section>
<section id="jumlah-data-dari-datasets-raisin">
<h3>2.5.2 Jumlah Data Dari Datasets Raisin<a class="headerlink" href="#jumlah-data-dari-datasets-raisin" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_data</span> <span class="o">=</span> <span class="n">df_heart_failure_clinical_records</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah data dalam dataset Heart Failure Clinical Records:&quot;</span><span class="p">,</span> <span class="n">num_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah data dalam dataset Heart Failure Clinical Records: 299
</pre></div>
</div>
</div>
</div>
<p>Pada code diatas, dapat kita ketahui bahwa datasets record nya sebanyak 299 data.</p>
<p>Jumlah target pada data / Kategori setiap target</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_heart_failure_clinical_records</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;death_event&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>death_event
0    203
1     96
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Hasil output diatas menghasilkan masing-masing target Kategorinya menghasilkan data per Kategorinya.</p>
<ul class="simple">
<li><p>Class 0 = 203 Data Record.</p></li>
</ul>
<ul class="simple">
<li><p>Class 1 = 96 Data Record.</p></li>
</ul>
</section>
<section id="deskripsi-datasets">
<h3>2.5.3 Deskripsi Datasets<a class="headerlink" href="#deskripsi-datasets" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Deskripsi Dari Datasets Heart Failure</span>
<span class="n">des</span> <span class="o">=</span> <span class="n">df_heart_failure_clinical_records</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deskripsi Data Heart Failure Clinical Records:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">des</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Deskripsi Data Heart Failure Clinical Records:
              age     anaemia  creatinine_phosphokinase    diabetes  \
count  299.000000  299.000000                299.000000  299.000000   
mean    60.833893    0.431438                581.839465    0.418060   
std     11.894809    0.496107                970.287881    0.494067   
min     40.000000    0.000000                 23.000000    0.000000   
25%     51.000000    0.000000                116.500000    0.000000   
50%     60.000000    0.000000                250.000000    0.000000   
75%     70.000000    1.000000                582.000000    1.000000   
max     95.000000    1.000000               7861.000000    1.000000   

       ejection_fraction  high_blood_pressure      platelets  \
count         299.000000           299.000000     299.000000   
mean           38.083612             0.351171  263358.029264   
std            11.834841             0.478136   97804.236869   
min            14.000000             0.000000   25100.000000   
25%            30.000000             0.000000  212500.000000   
50%            38.000000             0.000000  262000.000000   
75%            45.000000             1.000000  303500.000000   
max            80.000000             1.000000  850000.000000   

       serum_creatinine  serum_sodium         sex    smoking        time  \
count         299.00000    299.000000  299.000000  299.00000  299.000000   
mean            1.39388    136.625418    0.648829    0.32107  130.260870   
std             1.03451      4.412477    0.478136    0.46767   77.614208   
min             0.50000    113.000000    0.000000    0.00000    4.000000   
25%             0.90000    134.000000    0.000000    0.00000   73.000000   
50%             1.10000    137.000000    1.000000    0.00000  115.000000   
75%             1.40000    140.000000    1.000000    1.00000  203.000000   
max             9.40000    148.000000    1.000000    1.00000  285.000000   

       death_event  
count    299.00000  
mean       0.32107  
std        0.46767  
min        0.00000  
25%        0.00000  
50%        0.00000  
75%        1.00000  
max        1.00000  
</pre></div>
</div>
</div>
</div>
<p>Kode diatas Menunjukkan deskripsi atau  rangkuman statistik deskriptif dari DataFrame dibawah ini penjelasan detailnya</p>
<p>a. Count (Jumlah) : Jumlah total pengamatan yang tersedia untuk setiap fitur. Ini menunjukkan berapa banyak entri yang ada dalam dataset untuk fitur tertentu. Misalnya, untuk fitur age, count adalah 299, yang berarti ada 299 pasien yang datanya dicatat dalam dataset.</p>
<p>b. Mean (Rata-rata) : Nilai rata-rata dari semua pengamatan untuk fitur tertentu. Rata-rata dihitung dengan menjumlahkan semua nilai dan membaginya dengan jumlah pengamatan. Misalnya, rata-rata usia pasien adalah 60.83 tahun.</p>
<p>c. Std (Standar Deviasi) : Ukuran seberapa tersebar data di sekitar mean. Standar deviasi yang lebih tinggi menunjukkan bahwa data lebih tersebar, sementara standar deviasi yang lebih rendah menunjukkan data lebih terkonsentrasi di sekitar mean. Misalnya, standar deviasi usia adalah 11.89 tahun, menunjukkan variasi usia pasien dalam dataset.</p>
<p>d. Min (Minimum) : Nilai terendah dalam data untuk fitur tertentu. Ini memberikan informasi tentang batas bawah dari data. Misalnya, usia minimum pasien adalah 40 tahun.</p>
<p>e. 25% (Kuartil Pertama) : Nilai yang memisahkan 25% data terendah dari yang lainnya. Kuartil pertama menunjukkan titik di mana 25% dari pengamatan lebih rendah dari nilai ini. Misalnya, kuartil pertama untuk usia adalah 51 tahun, yang berarti 25% pasien berusia di bawah 51 tahun.</p>
<p>f. 50% (Median) : Nilai tengah dari data yang membagi dataset menjadi dua bagian yang sama. Median adalah titik di mana 50% dari pengamatan lebih rendah dari nilai ini dan 50% lebih tinggi. Misalnya, median usia adalah 60 tahun.</p>
<p>g. 75% (Kuartil Ketiga) : Nilai yang memisahkan 75% data terendah dari yang lainnya. Kuartil ketiga menunjukkan titik di mana 75% dari pengamatan lebih rendah dari nilai ini. Misalnya, kuartil ketiga untuk usia adalah 70 tahun.</p>
<p>h. Max (Maksimum) : Nilai tertinggi dalam data untuk fitur tertentu. Ini memberikan informasi tentang batas atas dari data. Misalnya, usia maksimum pasien adalah 95 tahun.</p>
<p>Berikut adalah deskripsi statistik dari setiap fitur dalam dataset :</p>
<ol class="arabic simple">
<li><p>Age (Usia):</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean (rata-rata): 60.83 tahun</p></li>
<li><p>std (deviasi standar): 11.89 tahun</p></li>
<li><p>min (minimum): 40 tahun</p></li>
<li><p>25% (kuartil pertama): 51 tahun</p></li>
<li><p>50% (median): 60 tahun</p></li>
<li><p>75% (kuartil ketiga): 70 tahun</p></li>
<li><p>max (maksimum): 95 tahun</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Anaemia: Indikator apakah pasien mengalami anemia (0: tidak, 1: ya)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 0.43</p></li>
<li><p>std: 0.50</p></li>
<li><p>min: 0</p></li>
<li><p>25%: 0</p></li>
<li><p>50%: 0</p></li>
<li><p>75%: 1</p></li>
<li><p>max: 1</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Creatinine Phosphokinase (CPK): Tingkat enzim CPK dalam darah (mcg/L)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 581.84 mcg/L</p></li>
<li><p>std: 970.29 mcg/L</p></li>
<li><p>min: 23 mcg/L</p></li>
<li><p>25%: 116.5 mcg/L</p></li>
<li><p>50%: 250 mcg/L</p></li>
<li><p>75%: 582 mcg/L</p></li>
<li><p>max: 7861 mcg/L</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Diabetes: Indikator apakah pasien menderita diabetes (0: tidak, 1: ya)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 0.42</p></li>
<li><p>std: 0.49</p></li>
<li><p>min: 0</p></li>
<li><p>25%: 0</p></li>
<li><p>50%: 0</p></li>
<li><p>75%: 1</p></li>
<li><p>max: 1</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Ejection Fraction: Persentase darah yang meninggalkan jantung pada setiap kontraksi</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 38.08%</p></li>
<li><p>std: 11.83%</p></li>
<li><p>min: 14%</p></li>
<li><p>25%: 30%</p></li>
<li><p>50%: 38%</p></li>
<li><p>75%: 45%</p></li>
<li><p>max: 80%</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="6">
<li><p>High Blood Pressure (Tekanan Darah Tinggi): Indikator apakah pasien menderita hipertensi (0: tidak, 1: ya)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 0.35</p></li>
<li><p>std: 0.48</p></li>
<li><p>min: 0</p></li>
<li><p>25%: 0</p></li>
<li><p>50%: 0</p></li>
<li><p>75%: 1</p></li>
<li><p>max: 1</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="7">
<li><p>Platelets (Trombosit): Jumlah trombosit dalam darah (kiloplatelet/mL)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 263358.03 kilo/mL</p></li>
<li><p>std: 97804.24 kilo/mL</p></li>
<li><p>min: 25100 kilo/mL</p></li>
<li><p>25%: 212500 kilo/mL</p></li>
<li><p>50%: 262000 kilo/mL</p></li>
<li><p>75%: 303500 kilo/mL</p></li>
<li><p>max: 850000 kilo/mL</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="8">
<li><p>Serum Creatinine: Tingkat kreatinin dalam darah (mg/dL)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 1.39 mg/dL</p></li>
<li><p>std: 1.03 mg/dL</p></li>
<li><p>min: 0.5 mg/dL</p></li>
<li><p>25%: 0.9 mg/dL</p></li>
<li><p>50%: 1.1 mg/dL</p></li>
<li><p>75%: 1.4 mg/dL</p></li>
<li><p>max: 9.4 mg/dL</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="9">
<li><p>Serum Sodium: Tingkat natrium dalam darah (mEq/L)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 136.63 mEq/L</p></li>
<li><p>std: 4.41 mEq/L</p></li>
<li><p>min: 113 mEq/L</p></li>
<li><p>25%: 134 mEq/L</p></li>
<li><p>50%: 137 mEq/L</p></li>
<li><p>75%: 140 mEq/L</p></li>
<li><p>max: 148 mEq/L</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="10">
<li><p>Sex (Jenis Kelamin): Jenis kelamin pasien (0: wanita, 1: pria)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 0.65</p></li>
<li><p>std: 0.48</p></li>
<li><p>min: 0</p></li>
<li><p>25%: 0</p></li>
<li><p>50%: 1</p></li>
<li><p>75%: 1</p></li>
<li><p>max: 1</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="11">
<li><p>Smoking (Merokok): Indikator apakah pasien merokok (0: tidak, 1: ya)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 0.32</p></li>
<li><p>std: 0.47</p></li>
<li><p>min: 0</p></li>
<li><p>25%: 0</p></li>
<li><p>50%: 0</p></li>
<li><p>75%: 1</p></li>
<li><p>max: 1</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="12">
<li><p>Time (Waktu): Periode tindak lanjut pasien dalam hari</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 130.26 hari</p></li>
<li><p>std: 77.61 hari</p></li>
<li><p>min: 4 hari</p></li>
<li><p>25%: 73 hari</p></li>
<li><p>50%: 115 hari</p></li>
<li><p>75%: 203 hari</p></li>
<li><p>max: 285 hari</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="13">
<li><p>Death Event (Kematian): Indikator apakah pasien meninggal selama masa tindak lanjut (0: tidak, 1: ya)</p>
<ul class="simple">
<li><p>count: 299</p></li>
<li><p>mean: 0.32</p></li>
<li><p>std: 0.47</p></li>
<li><p>min: 0</p></li>
<li><p>25%: 0</p></li>
<li><p>50%: 0</p></li>
<li><p>75%: 1</p></li>
<li><p>max: 1</p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="identifikasi-kualitas-data">
<h2>3. Identifikasi Kualitas Data<a class="headerlink" href="#identifikasi-kualitas-data" title="Link to this heading">#</a></h2>
<p>Identifikasi data melibatkan beberapa tahap, dimulai dengan pengecekan atau deteksi terhadap adanya Data Duplikat, Missing Value, dan Outlier. Jika terdapat data duplikat, kita dapat menghapusnya. Untuk missing value, kita dapat melakukan imputasi data yang null atau missing dengan beberapa metode seperti metode KNN dan Mean. Selanjutnya, kita melakukan deteksi outlier untuk mengidentifikasi data yang terlalu jauh dari nilai lainnya. Meskipun terdapat outlier, jika model dianggap dapat mengakomodasinya, maka outlier tersebut tidak dihilangkan. Berikut adalah urutan tahapan Preprocessing Data:</p>
<ul class="simple">
<li><p>Deteksi Data Missing Values</p></li>
</ul>
<ul class="simple">
<li><p>Deteksi Data Outlier</p></li>
</ul>
<ul class="simple">
<li><p>Deteksi Duplikasi Data</p></li>
</ul>
<section id="deteksi-data-missing-values">
<h3>3.1 Deteksi Data Missing Values<a class="headerlink" href="#deteksi-data-missing-values" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Melakukan pengecekan apakah terdapat missing value dalam setiap kolom</span>
<span class="n">missing_val</span> <span class="o">=</span> <span class="n">df_heart_failure_clinical_records</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Menampilkan berapa jumlah adanya missing value untuk setiap kolomnya</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah nilai yang hilang untuk setiap kolom:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">missing_val</span><span class="p">)</span>

<span class="c1"># Melakukan pengecekan apakah ada nilai null atau missing value</span>
<span class="k">if</span> <span class="n">missing_val</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tidak ada missing value.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Terdapat missing value dalam dataset.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah nilai yang hilang untuk setiap kolom:
age                         0
anaemia                     0
creatinine_phosphokinase    0
diabetes                    0
ejection_fraction           0
high_blood_pressure         0
platelets                   0
serum_creatinine            0
serum_sodium                0
sex                         0
smoking                     0
time                        0
death_event                 0
dtype: int64
Tidak ada missing value.
</pre></div>
</div>
</div>
</div>
<p>Dari hasil pengecekan data diatas dapat kita simpulkan bahwasannya tidak terdapat missing value pada data heart failure clinical records. Maka dari hasil tersebut kita tidak perlu melakukan Proses imputasi data missing value.</p>
</section>
<section id="deteksi-data-outlier">
<h3>3.2 Deteksi Data Outlier<a class="headerlink" href="#deteksi-data-outlier" title="Link to this heading">#</a></h3>
<p>Disini Kita Menggunakan Metode LOF (Local Outlier Factor) untuk mendeteksi adanya outlier tidak pada setiap kolom fitur pada dataset heart failure clinical records.</p>
<p>Sebelum itu, apasih LOF itu ??</p>
<p>LOF adalah algoritma berbasis kerapatan yang mengidentifikasi titik-titik yang memiliki kepadatan lokal yang secara signifikan lebih rendah dibandingkan dengan tetangga mereka. Artinya, LOF menentukan apakah suatu titik data adalah outlier dengan membandingkan kerapatan lokalnya dengan kerapatan lokal titik-titik di sekitarnya.</p>
<p>Cara Kerja LOF</p>
<ol class="arabic simple">
<li><p>Kerapatan Lokal : LOF menghitung kerapatan lokal dari setiap titik data. Kerapatan lokal dihitung berdasarkan jarak rata-rata ke tetangga terdekatnya. Semakin dekat tetangga-tetangganya, semakin tinggi kerapatan lokalnya.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Rasio Kerapatan Lokal : LOF kemudian menghitung rasio kerapatan lokal titik data dengan kerapatan lokal tetangganya. Rasio ini memberikan nilai LOF untuk setiap titik data.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Interpretasi Nilai LOF :</p>
<ul class="simple">
<li><p>LOF ≈ 1: Titik data berada di wilayah dengan kerapatan yang sama dengan tetangganya, sehingga dianggap bukan outlier.</p></li>
<li><p>LOF &gt; 1: Titik data memiliki kerapatan yang lebih rendah dibandingkan dengan tetangganya, menunjukkan bahwa titik tersebut mungkin merupakan outlier. Semakin tinggi nilai LOF, semakin kuat indikasi bahwa titik tersebut adalah outlier.</p></li>
<li><p>LOF &lt; 1: Titik data memiliki kerapatan yang lebih tinggi dibandingkan dengan tetangganya, yang biasanya jarang terjadi dalam praktik deteksi outlier.</p></li>
</ul>
</li>
</ol>
<p>Kelebihan dan Kekurangan LOF</p>
<ul class="simple">
<li><p>Kelebihan :</p></li>
<li><p>Skalabilitas Lokal: LOF dapat mengidentifikasi outlier dalam berbagai skala kerapatan lokal.</p></li>
<li><p>Tidak Sensitif terhadap Distribusi Data Global: Fokus pada kerapatan lokal membuat LOF efektif dalam berbagai distribusi data.</p></li>
</ul>
<ul class="simple">
<li><p>Kekurangan:</p></li>
<li><p>Kompleksitas Komputasi: Perhitungan kerapatan lokal untuk setiap titik bisa menjadi sangat intensif komputasi terutama untuk dataset besar.</p></li>
<li><p>Pemilihan Parameter K: Pemilihan jumlah tetangga (parameter K) dapat mempengaruhi hasil dan memerlukan penyesuaian yang cermat.</p></li>
</ul>
<p>Code dibawah ini melakukan pengecekan apakah terdapat data outlier dan dimunculkan jumlahnya masing-masing di setiap fiturnya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">precision_score</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Fetch dataset directly from UCIML repository</span>
<span class="n">heart_failure_clinical_records</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">519</span><span class="p">)</span>

<span class="c1"># Extract features and targets</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># Define feature names and target name</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">features</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">target_name</span> <span class="o">=</span> <span class="s2">&quot;death_event&quot;</span>

<span class="c1"># Create DataFrame from features and target</span>
<span class="n">df_heart_failure</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">features</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">target</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))),</span> <span class="n">columns</span><span class="o">=</span><span class="n">feature_names</span> <span class="o">+</span> <span class="p">[</span><span class="n">target_name</span><span class="p">])</span>

<span class="c1"># Create LOF model</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.013</span><span class="p">)</span>

<span class="c1"># Predict outliers for each numeric feature</span>
<span class="n">outlier_indices</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">feature_names</span><span class="p">:</span>
    <span class="c1"># Get feature values</span>
    <span class="n">feature_values</span> <span class="o">=</span> <span class="n">df_heart_failure</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Predict outliers</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">feature_values</span><span class="p">)</span>
    <span class="c1"># Add outlier indices to the list</span>
    <span class="n">outlier_indices</span><span class="o">.</span><span class="n">extend</span><span class="p">([(</span><span class="n">i</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span> <span class="k">if</span> <span class="n">label</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Remove duplicate outlier indices</span>
<span class="n">outlier_indices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">outlier_indices</span><span class="p">))</span>

<span class="c1"># Display found outlier indices</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OUTLIER&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">outlier_indices</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Outlier ditemukan pada baris =&gt; </span><span class="si">{</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">, pada kolom fitur =&gt; </span><span class="si">{</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Collect row indices that contain outliers</span>
<span class="n">outlier_row_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">outlier_indices</span><span class="p">]</span>

<span class="c1"># Display data on rows containing outliers</span>
<span class="n">outlier_data</span> <span class="o">=</span> <span class="n">df_heart_failure</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">outlier_row_indices</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DATA&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data pada baris yang mengandung outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outlier_data</span><span class="p">)</span>

<span class="c1"># Assume you have ground truth labels for outliers</span>
<span class="c1"># For example, in this list, value 1 indicates an outlier, and 0 indicates not an outlier</span>
<span class="n">ground_truth_labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">outlier_row_indices</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_heart_failure</span><span class="p">))]</span>

<span class="c1"># Generate outlier predictions based on outlier_row_indices</span>
<span class="n">predicted_labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">outlier_row_indices</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_heart_failure</span><span class="p">))]</span>

<span class="c1"># Calculate precision</span>
<span class="n">precision</span> <span class="o">=</span> <span class="n">precision_score</span><span class="p">(</span><span class="n">ground_truth_labels</span><span class="p">,</span> <span class="n">predicted_labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PRECISION&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Precision: </span><span class="si">{</span><span class="n">precision</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Visualize outliers for each numeric feature</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">feature_names</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_heart_failure</span><span class="p">[</span><span class="n">column</span><span class="p">])),</span> <span class="n">df_heart_failure</span><span class="p">[</span><span class="n">column</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="n">column</span><span class="p">)</span>
    <span class="n">outlier_indices_for_column</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">outlier_indices</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">column</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">outlier_indices_for_column</span><span class="p">,</span> <span class="n">df_heart_failure</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">outlier_indices_for_column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Outlier&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Outlier Detection for </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>OUTLIER
Outlier ditemukan pada baris =&gt; 295, pada kolom fitur =&gt; time
Outlier ditemukan pada baris =&gt; 296, pada kolom fitur =&gt; time
Outlier ditemukan pada baris =&gt; 261, pada kolom fitur =&gt; creatinine_phosphokinase
Outlier ditemukan pada baris =&gt; 192, pada kolom fitur =&gt; platelets
Outlier ditemukan pada baris =&gt; 96, pada kolom fitur =&gt; creatinine_phosphokinase
Outlier ditemukan pada baris =&gt; 217, pada kolom fitur =&gt; ejection_fraction
Outlier ditemukan pada baris =&gt; 128, pada kolom fitur =&gt; platelets
Outlier ditemukan pada baris =&gt; 297, pada kolom fitur =&gt; time
Outlier ditemukan pada baris =&gt; 178, pada kolom fitur =&gt; platelets
Outlier ditemukan pada baris =&gt; 197, pada kolom fitur =&gt; platelets
Outlier ditemukan pada baris =&gt; 298, pada kolom fitur =&gt; time
Outlier ditemukan pada baris =&gt; 272, pada kolom fitur =&gt; age
Outlier ditemukan pada baris =&gt; 142, pada kolom fitur =&gt; creatinine_phosphokinase
Outlier ditemukan pada baris =&gt; 122, pada kolom fitur =&gt; serum_creatinine
Outlier ditemukan pada baris =&gt; 81, pada kolom fitur =&gt; age
Outlier ditemukan pada baris =&gt; 64, pada kolom fitur =&gt; ejection_fraction
Outlier ditemukan pada baris =&gt; 180, pada kolom fitur =&gt; creatinine_phosphokinase
DATA
Data pada baris yang mengandung outlier:
      age  anaemia  creatinine_phosphokinase  diabetes  ejection_fraction  \
295  55.0      0.0                    1820.0       0.0               38.0   
296  45.0      0.0                    2060.0       1.0               60.0   
261  62.0      1.0                     655.0       0.0               40.0   
192  50.0      1.0                     121.0       1.0               40.0   
96   63.0      1.0                     514.0       1.0               25.0   
217  54.0      1.0                     427.0       0.0               70.0   
128  61.0      0.0                     248.0       0.0               30.0   
297  45.0      0.0                    2413.0       0.0               38.0   
178  63.0      1.0                     122.0       1.0               60.0   
197  65.0      0.0                     167.0       0.0               30.0   
298  50.0      0.0                     196.0       0.0               45.0   
272  67.0      0.0                     213.0       0.0               38.0   
142  50.0      0.0                     482.0       1.0               30.0   
122  60.0      0.0                      96.0       1.0               38.0   
81   67.0      0.0                     582.0       0.0               50.0   
64   45.0      0.0                     582.0       0.0               80.0   
180  40.0      0.0                     478.0       1.0               30.0   

     high_blood_pressure  platelets  serum_creatinine  serum_sodium  sex  \
295                  0.0  270000.00              1.20         139.0  0.0   
296                  0.0  742000.00              0.80         138.0  0.0   
261                  0.0  283000.00              0.70         133.0  0.0   
192                  0.0  260000.00              0.70         130.0  1.0   
96                   1.0  254000.00              1.30         134.0  1.0   
217                  1.0  151000.00              9.00         137.0  0.0   
128                  1.0  267000.00              0.70         136.0  1.0   
297                  0.0  140000.00              1.40         140.0  1.0   
178                  0.0  267000.00              1.20         145.0  1.0   
197                  0.0  259000.00              0.80         138.0  0.0   
298                  0.0  395000.00              1.60         136.0  1.0   
272                  0.0  215000.00              1.20         133.0  0.0   
142                  0.0  329000.00              0.90         132.0  0.0   
122                  0.0  228000.00              0.75         140.0  0.0   
81                   0.0  263358.03              1.18         137.0  1.0   
64                   0.0  263358.03              1.18         137.0  0.0   
180                  0.0  303000.00              0.90         136.0  1.0   

     smoking   time  death_event  
295      0.0  271.0          0.0  
296      0.0  278.0          0.0  
261      0.0  233.0          0.0  
192      0.0  175.0          0.0  
96       0.0   83.0          0.0  
217      0.0  196.0          1.0  
128      1.0  104.0          0.0  
297      1.0  280.0          0.0  
178      0.0  147.0          0.0  
197      0.0  186.0          0.0  
298      1.0  285.0          0.0  
272      0.0  245.0          0.0  
142      0.0  109.0          0.0  
122      0.0   95.0          0.0  
81       1.0   76.0          0.0  
64       0.0   63.0          0.0  
180      0.0  148.0          0.0  
PRECISION
Precision: 1.0
</pre></div>
</div>
<img alt="_images/9effcb13e8c7e5cd8b76642207c8116ac0fe66106f45ca747185b581d7d672cb.png" src="_images/9effcb13e8c7e5cd8b76642207c8116ac0fe66106f45ca747185b581d7d672cb.png" />
<img alt="_images/4bbc44538c250283951e74accabacc31adef6b825c49562b0770b7f82dae460e.png" src="_images/4bbc44538c250283951e74accabacc31adef6b825c49562b0770b7f82dae460e.png" />
<img alt="_images/b457064db1425189208b13923d152f5cfc0fe147c89244258cbe3591c3572534.png" src="_images/b457064db1425189208b13923d152f5cfc0fe147c89244258cbe3591c3572534.png" />
<img alt="_images/29bd79919c67a4f36e5fb1271d627ac3b542ae6018bb887ed93cb80ea62e2cfd.png" src="_images/29bd79919c67a4f36e5fb1271d627ac3b542ae6018bb887ed93cb80ea62e2cfd.png" />
<img alt="_images/eb8f5ed4c6d71f89e36e3c314192a7489077cfe021ae1623485f84f462b4f969.png" src="_images/eb8f5ed4c6d71f89e36e3c314192a7489077cfe021ae1623485f84f462b4f969.png" />
<img alt="_images/4f312c74d5b8b520c6ee2e00df282193bbc5fad9c1ef66deaf18b32f87f44701.png" src="_images/4f312c74d5b8b520c6ee2e00df282193bbc5fad9c1ef66deaf18b32f87f44701.png" />
<img alt="_images/6fbcc54a05209dbbb0a89e5a6bfef1e71c09b0262033f6fe14d5a300c5a993af.png" src="_images/6fbcc54a05209dbbb0a89e5a6bfef1e71c09b0262033f6fe14d5a300c5a993af.png" />
<img alt="_images/41ff71c3ea4a4a3c41c7c5610ab9230992c5029554674fdfe768762369c05fa4.png" src="_images/41ff71c3ea4a4a3c41c7c5610ab9230992c5029554674fdfe768762369c05fa4.png" />
<img alt="_images/2db833cf8cd70a38bdc72441cbc135a4c9db5854e8e6ccdf2050afb2417dc747.png" src="_images/2db833cf8cd70a38bdc72441cbc135a4c9db5854e8e6ccdf2050afb2417dc747.png" />
<img alt="_images/0fa5b951f2879ccbef89f90d7f8536516e17920153255a0d6ed884e057e70df9.png" src="_images/0fa5b951f2879ccbef89f90d7f8536516e17920153255a0d6ed884e057e70df9.png" />
<img alt="_images/b0ac0008fb381ff0e3faa57b6797960e49c277db92814b02f4ea0f9ad37a0dc1.png" src="_images/b0ac0008fb381ff0e3faa57b6797960e49c277db92814b02f4ea0f9ad37a0dc1.png" />
<img alt="_images/b675232d590eae5bf0ace5067fc7eb06302a8cd57055de3a63a67410bb89a3a3.png" src="_images/b675232d590eae5bf0ace5067fc7eb06302a8cd57055de3a63a67410bb89a3a3.png" />
</div>
</div>
<p>Untuk Penanganan Outlier tidak dilakukan, karena jika outlier merupakan kondisi medis valid, mereka harus dipertahankan. Lalu untuk akurasi pendeteksian outlier memiliki akurasi nilai 1 atau 100% yang bisa dikatakan sempurna.</p>
</section>
<section id="deteksi-duplikasi-datasets">
<h3>3.3 Deteksi Duplikasi Datasets<a class="headerlink" href="#deteksi-duplikasi-datasets" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">duplicates</span> <span class="o">=</span> <span class="n">df_heart_failure_clinical_records</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data yang Duplikat:&quot;</span><span class="p">,</span> <span class="n">duplicates</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data yang Duplikat: 0
</pre></div>
</div>
</div>
</div>
<p>Seperti hasil output diatas sudah kita deteksi bahwa tidak adanya duplikasi data, bisa dipastikan bahwa kualitas atas identifikasi data sudah bisa dikatakan baik jadi selanjutnya kita bisa melanjutkan ke tahap Preprocessing Data.</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="c-preprocessing-data">
<h1>C. Preprocessing Data<a class="headerlink" href="#c-preprocessing-data" title="Link to this heading">#</a></h1>
<p>Pada proses klasifikasi, langkah awal yang perlu dilakukan adalah preprocessing data. Dalam identifikasi sebelumnya, telah dilakukan deteksi missing value dan diketahui bahwa tidak ada data yang kosong dalam dataset. Tahap berikutnya adalah mendeteksi outlier. Meskipun terdeteksi adanya outlier, model dianggap mampu mengakomodasinya sehingga outlier tersebut tidak dihapus.</p>
<p>Berdasarkan hasil identifikasi sebelumnya, kita mengetahui bahwa tidak diperlukan proses preprocessing lebih lanjut karena data sudah diidentifikasi tidak mengandung missing value dan outlier tidak perlu dihapus karena masih dapat diakomodasi oleh model. Oleh karena itu, kita tidak perlu melakukan proses imputasi karena tidak ada missing value, dan outlier tidak perlu dihapus. Kita bisa langsung melanjutkan ke tahap pemodelan untuk menentukan kategori dari pengelompokan kelas Wine dengan menggunakan metode klasifikasi.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="d-modelling">
<h1>D. Modelling<a class="headerlink" href="#d-modelling" title="Link to this heading">#</a></h1>
<p>Proses pemodelan dalam analisis data merupakan tahap krusial di mana berbagai teknik statistik atau algoritma machine learning digunakan untuk mengidentifikasi, menganalisis, dan/atau memprediksi pola dalam data. Dalam kasus dataset “Heart Failure Clinical Records”, fokusnya adalah pada prediksi kematian akibat gagal jantung, sehingga metode yang digunakan adalah klasifikasi.</p>
<section id="pemilihan-model">
<h2>4. Pemilihan Model<a class="headerlink" href="#pemilihan-model" title="Link to this heading">#</a></h2>
<p>Metode Klasifikasi adalah teknik dalam analisis data yang digunakan untuk memisahkan atau mengelompokkan data ke dalam kategori atau kelas berdasarkan atribut-atribut yang ada. Tujuannya adalah untuk membangun model yang dapat memprediksi kelas atau label dari data yang tidak terlihat sebelumnya berdasarkan fitur-fitur yang diamati. Disini kita menggunakan Metode Klasifikasi Naive Bayes dikarenakan cocok digunakan untuk klasifikasi teks dan memiliki kinerja yang baik dalam dataset dengan dimensi tinggi. Kita Langsung saja Implementasikan.</p>
<section id="gaussian-naive-bayes-classification">
<h3>4.1 GAUSSIAN NAIVE BAYES CLASSIFICATION<a class="headerlink" href="#gaussian-naive-bayes-classification" title="Link to this heading">#</a></h3>
<p>Gaussian Naive Bayes Classification adalah salah satu metode klasifikasi yang populer dalam machine learning. Metode ini didasarkan pada teorema Bayes dengan asumsi bahwa nilai-nilai fitur dalam dataset terdistribusi secara normal (Gaussian). “Naive” mengacu pada asumsi bahwa setiap fitur dalam dataset dianggap independen satu sama lain. Dalam Gaussian Naive Bayes, probabilitas suatu sampel masuk ke dalam kelas tertentu dihitung dengan menerapkan teorema Bayes dengan menggunakan distribusi Gaussian untuk mengestimasi probabilitas setiap kelas. Metode ini sering digunakan untuk klasifikasi teks dan data yang kontinu, dan dapat memberikan hasil yang baik meskipun asumsi independensi fitur sering kali tidak terpenuhi dalam praktek.</p>
<p>Membagi Data Train &amp; Data Test</p>
<p>Dalam perbandingan studi kasus kita membagi datanya 80% Data Train sedangkan Data Testnya 20%. Hal ini dilakukan agar saat kita melakukan prediksi terhadap data baru, kita mendapat hasil yang lebih efektif. Dan apakah hasil tersebut tepat maka kita langsung saja membagi data tersebut lalu melakukan proses klasifikasi dengan metode NaiveBayes Prediksi dengan bantuan Sklearn Modelling Naives Bayes.</p>
<p>Data Train</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">ucimlrepo</span> <span class="kn">import</span> <span class="n">fetch_ucirepo</span>

<span class="c1"># Fetch dataset directly from UCIML repository</span>
<span class="n">heart_failure_clinical_records</span> <span class="o">=</span> <span class="n">fetch_ucirepo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">519</span><span class="p">)</span>

<span class="c1"># Extract features and targets</span>
<span class="n">heart_failure_features</span> <span class="o">=</span> <span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">features</span>
<span class="n">heart_failure_targets</span> <span class="o">=</span> <span class="n">heart_failure_clinical_records</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">targets</span>

<span class="c1"># Define feature names and target name</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">heart_failure_features</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">target_name</span> <span class="o">=</span> <span class="s2">&quot;DEATH_EVENT&quot;</span>  <span class="c1"># Assuming the target column is named &#39;DEATH_EVENT&#39;</span>

<span class="c1"># Create DataFrame from features and target</span>
<span class="n">df_heart_failure</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">heart_failure_features</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">heart_failure_targets</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))),</span> <span class="n">columns</span><span class="o">=</span><span class="n">feature_names</span> <span class="o">+</span> <span class="p">[</span><span class="n">target_name</span><span class="p">])</span>

<span class="c1"># Define features and target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_heart_failure</span><span class="p">[</span><span class="n">feature_names</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_heart_failure</span><span class="p">[</span><span class="n">target_name</span><span class="p">]</span>

<span class="c1"># Membagi dataset menjadi data latih &amp; data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Train a Gaussian Naive Bayes model</span>
<span class="n">gnb</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">gnb</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Predict on the test set</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">gnb</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Calculate accuracy</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Combine training features and target into a single DataFrame</span>
<span class="n">trained</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">trained</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;HeartFailure_train.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Training dataset (jumlah data: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">trained</span><span class="p">)</span><span class="si">}</span><span class="s2">):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">trained</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy: 0.73
Training dataset (jumlah data: 239):
        age  anaemia  creatinine_phosphokinase  diabetes  ejection_fraction  \
6    75.000      1.0                     246.0       0.0               15.0   
183  75.000      0.0                      99.0       0.0               38.0   
185  60.667      1.0                     104.0       1.0               30.0   
146  52.000      0.0                     132.0       0.0               30.0   
30   94.000      0.0                     582.0       1.0               38.0   
..      ...      ...                       ...       ...                ...   
188  60.667      1.0                     151.0       1.0               40.0   
71   58.000      0.0                     582.0       1.0               35.0   
106  55.000      0.0                     748.0       0.0               45.0   
270  44.000      0.0                     582.0       1.0               30.0   
102  80.000      0.0                     898.0       0.0               25.0   

     high_blood_pressure  platelets  serum_creatinine  serum_sodium  sex  \
6                    0.0  127000.00              1.20         137.0  1.0   
183                  1.0  224000.00              2.50         134.0  1.0   
185                  0.0  389000.00              1.50         136.0  1.0   
146                  0.0  218000.00              0.70         136.0  1.0   
30                   1.0  263358.03              1.83         134.0  1.0   
..                   ...        ...               ...           ...  ...   
188                  1.0  201000.00              1.00         136.0  0.0   
71                   0.0  122000.00              0.90         139.0  1.0   
106                  0.0  263000.00              1.30         137.0  1.0   
270                  1.0  263358.03              1.60         130.0  1.0   
102                  0.0  149000.00              1.10         144.0  1.0   

     smoking   time  DEATH_EVENT  
6        0.0   10.0          1.0  
183      0.0  162.0          1.0  
185      0.0  171.0          1.0  
146      1.0  112.0          0.0  
30       0.0   27.0          1.0  
..       ...    ...          ...  
188      0.0  172.0          0.0  
71       1.0   71.0          0.0  
106      0.0   88.0          0.0  
270      1.0  244.0          0.0  
102      1.0   87.0          0.0  

[239 rows x 13 columns]
</pre></div>
</div>
</div>
</div>
<p>Hasil diatas menunjukkan total data Train yakni 239 record.</p>
<p>Data Test</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">X_test</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">test</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;heart_failure_clinical_records_test.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Testing dataset (jumlah data: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">test</span><span class="p">)</span><span class="si">}</span><span class="s2">):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Testing dataset (jumlah data: 60):
      age  anaemia  creatinine_phosphokinase  diabetes  ejection_fraction  \
281  70.0      0.0                     582.0       0.0               40.0   
265  50.0      1.0                     298.0       0.0               35.0   
164  45.0      0.0                    2442.0       1.0               30.0   
9    80.0      1.0                     123.0       0.0               35.0   
77   42.0      0.0                     102.0       1.0               40.0   
278  50.0      1.0                    1051.0       1.0               30.0   
93   60.0      1.0                     154.0       0.0               25.0   
109  45.0      0.0                     292.0       1.0               35.0   
5    90.0      1.0                      47.0       0.0               40.0   
173  50.0      1.0                     115.0       0.0               20.0   
97   70.0      1.0                      59.0       0.0               60.0   
195  77.0      1.0                     418.0       0.0               45.0   
184  58.0      1.0                     145.0       0.0               25.0   
154  65.0      1.0                     335.0       0.0               35.0   
57   60.0      1.0                     607.0       0.0               40.0   
60   45.0      0.0                    7702.0       1.0               25.0   
147  64.0      0.0                    1610.0       0.0               60.0   
108  63.0      0.0                     936.0       0.0               38.0   
63   45.0      0.0                     582.0       0.0               35.0   
140  80.0      0.0                     805.0       0.0               38.0   
155  60.0      1.0                     231.0       1.0               25.0   
104  60.0      0.0                      53.0       0.0               50.0   
247  64.0      0.0                     143.0       0.0               25.0   
46   51.0      0.0                    1380.0       0.0               25.0   
42   70.0      0.0                     571.0       1.0               45.0   
275  45.0      0.0                     582.0       0.0               38.0   
280  70.0      0.0                    2695.0       1.0               40.0   
116  60.0      1.0                      96.0       1.0               60.0   
213  48.0      1.0                     131.0       1.0               30.0   
236  75.0      0.0                     119.0       0.0               50.0   
17   45.0      0.0                     582.0       0.0               14.0   
239  55.0      1.0                     180.0       0.0               45.0   
33   50.0      1.0                     159.0       1.0               30.0   
24   75.0      0.0                     582.0       1.0               30.0   
45   50.0      0.0                     582.0       1.0               38.0   
7    60.0      1.0                     315.0       1.0               60.0   
113  70.0      1.0                     143.0       0.0               60.0   
194  45.0      0.0                     582.0       0.0               20.0   
111  55.0      0.0                      60.0       0.0               35.0   
92   42.0      0.0                     582.0       0.0               60.0   
75   60.0      1.0                      47.0       0.0               20.0   
82   60.0      1.0                      76.0       1.0               25.0   
118  65.0      1.0                     113.0       1.0               60.0   
76   70.0      0.0                      92.0       0.0               60.0   
129  53.0      1.0                     270.0       1.0               35.0   
197  65.0      0.0                     167.0       0.0               30.0   
210  70.0      0.0                     212.0       1.0               17.0   
288  65.0      0.0                     892.0       1.0               35.0   
219  55.0      0.0                     582.0       1.0               35.0   
178  63.0      1.0                     122.0       1.0               60.0   
144  72.0      1.0                     943.0       0.0               25.0   
186  50.0      0.0                     582.0       0.0               50.0   
84   59.0      1.0                     280.0       1.0               25.0   
248  40.0      0.0                     624.0       0.0               35.0   
277  70.0      0.0                     582.0       1.0               38.0   
73   65.0      0.0                     224.0       1.0               50.0   
244  54.0      0.0                     582.0       1.0               38.0   
25   80.0      0.0                     148.0       1.0               38.0   
209  49.0      0.0                     972.0       1.0               35.0   
59   72.0      0.0                     364.0       1.0               20.0   

     high_blood_pressure  platelets  serum_creatinine  serum_sodium  sex  \
281                  0.0   51000.00              2.70         136.0  1.0   
265                  0.0  362000.00              0.90         140.0  1.0   
164                  0.0  334000.00              1.10         139.0  1.0   
9                    1.0  388000.00              9.40         133.0  1.0   
77                   0.0  237000.00              1.20         140.0  1.0   
278                  0.0  232000.00              0.70         136.0  0.0   
93                   0.0  210000.00              1.70         135.0  1.0   
109                  0.0  850000.00              1.30         142.0  1.0   
5                    1.0  204000.00              2.10         132.0  1.0   
173                  0.0  189000.00              0.80         139.0  1.0   
97                   0.0  255000.00              1.10         136.0  0.0   
195                  0.0  223000.00              1.80         145.0  1.0   
184                  0.0  219000.00              1.20         137.0  1.0   
154                  1.0  235000.00              0.80         136.0  0.0   
57                   0.0  216000.00              0.60         138.0  1.0   
60                   1.0  390000.00              1.00         139.0  1.0   
147                  0.0  242000.00              1.00         137.0  1.0   
108                  0.0  304000.00              1.10         133.0  1.0   
63                   0.0  385000.00              1.00         145.0  1.0   
140                  0.0  263358.03              1.10         134.0  1.0   
155                  0.0  194000.00              1.70         140.0  1.0   
104                  1.0  286000.00              2.30         143.0  0.0   
247                  0.0  246000.00              2.40         135.0  1.0   
46                   1.0  271000.00              0.90         130.0  1.0   
42                   1.0  185000.00              1.20         139.0  1.0   
275                  1.0  422000.00              0.80         137.0  0.0   
280                  0.0  241000.00              1.00         137.0  1.0   
116                  1.0  271000.00              0.70         136.0  0.0   
213                  1.0  244000.00              1.60         130.0  0.0   
236                  1.0  248000.00              1.10         148.0  1.0   
17                   0.0  166000.00              0.80         127.0  1.0   
239                  0.0  263358.03              1.18         137.0  1.0   
33                   0.0  302000.00              1.20         138.0  0.0   
24                   1.0  263358.03              1.83         134.0  0.0   
45                   0.0  310000.00              1.90         135.0  1.0   
7                    0.0  454000.00              1.10         131.0  1.0   
113                  0.0  351000.00              1.30         137.0  0.0   
194                  1.0  126000.00              1.60         135.0  1.0   
111                  0.0  228000.00              1.20         135.0  1.0   
92                   0.0  263358.03              1.18         137.0  0.0   
75                   0.0  204000.00              0.70         139.0  1.0   
82                   0.0  196000.00              2.50         132.0  0.0   
118                  1.0  203000.00              0.90         140.0  0.0   
76                   1.0  317000.00              0.80         140.0  0.0   
129                  0.0  227000.00              3.40         145.0  1.0   
197                  0.0  259000.00              0.80         138.0  0.0   
210                  1.0  389000.00              1.00         136.0  1.0   
288                  0.0  263358.03              1.10         142.0  0.0   
219                  1.0  371000.00              0.70         140.0  0.0   
178                  0.0  267000.00              1.20         145.0  1.0   
144                  1.0  338000.00              1.70         139.0  1.0   
186                  0.0  153000.00              0.60         134.0  0.0   
84                   1.0  302000.00              1.00         141.0  0.0   
248                  0.0  301000.00              1.00         142.0  1.0   
277                  0.0   25100.00              1.10         140.0  1.0   
73                   0.0  149000.00              1.30         137.0  1.0   
244                  0.0  264000.00              1.80         134.0  1.0   
25                   0.0  149000.00              1.90         144.0  1.0   
209                  1.0  268000.00              0.80         130.0  0.0   
59                   1.0  254000.00              1.30         136.0  1.0   

     smoking   time  DEATH_EVENT  
281      1.0  250.0          0.0  
265      1.0  240.0          0.0  
164      0.0  129.0          1.0  
9        1.0   10.0          1.0  
77       0.0   74.0          0.0  
278      0.0  246.0          0.0  
93       0.0   82.0          1.0  
109      1.0   88.0          0.0  
5        1.0    8.0          1.0  
173      0.0  146.0          0.0  
97       0.0   85.0          0.0  
195      0.0  180.0          1.0  
184      1.0  170.0          1.0  
154      0.0  120.0          0.0  
57       1.0   54.0          0.0  
60       0.0   60.0          1.0  
147      0.0  113.0          0.0  
108      1.0   88.0          0.0  
63       0.0   61.0          1.0  
140      0.0  109.0          1.0  
155      0.0  120.0          0.0  
104      0.0   87.0          0.0  
247      0.0  214.0          0.0  
46       0.0   38.0          1.0  
42       1.0   33.0          1.0  
275      0.0  245.0          0.0  
280      0.0  247.0          0.0  
116      0.0   94.0          0.0  
213      0.0  193.0          1.0  
236      0.0  209.0          0.0  
17       0.0   14.0          1.0  
239      1.0  211.0          0.0  
33       0.0   29.0          0.0  
24       0.0   23.0          1.0  
45       1.0   35.0          1.0  
7        1.0   10.0          1.0  
113      0.0   90.0          1.0  
194      0.0  180.0          1.0  
111      1.0   90.0          0.0  
92       0.0   82.0          0.0  
75       1.0   73.0          1.0  
82       0.0   77.0          1.0  
118      0.0   94.0          0.0  
76       1.0   74.0          0.0  
129      0.0  105.0          0.0  
197      0.0  186.0          0.0  
210      1.0  188.0          0.0  
288      0.0  256.0          0.0  
219      0.0  197.0          0.0  
178      0.0  147.0          0.0  
144      1.0  111.0          1.0  
186      0.0  172.0          1.0  
84       0.0   78.0          1.0  
248      1.0  214.0          0.0  
277      0.0  246.0          0.0  
73       1.0   72.0          0.0  
244      0.0  213.0          0.0  
25       1.0   23.0          1.0  
209      0.0  187.0          0.0  
59       1.0   59.0          1.0  
</pre></div>
</div>
</div>
</div>
<p>Hasil diatas menunjukkan total data Test yakni 60 record.</p>
<p>Setelah Membagi Data Train dan data testnya selanjutnya kita bisa langsung ke implementasi prediksi model dengan bantuan Sklearn Naive Bayes.</p>
</section>
<section id="melakukan-prediksi-dengan-bantuan-sklearn-naive-bayes">
<h3>4.1.1 Melakukan Prediksi dengan bantuan Sklearn Naive Bayes<a class="headerlink" href="#melakukan-prediksi-dengan-bantuan-sklearn-naive-bayes" title="Link to this heading">#</a></h3>
<p>Berikutnya kita akan membuktikan apakah prediksi model melalui bantuan sklearn. Dan berikut untuk Akurasi data nya</p>
<p>Hasil Akurasi Gaussian Naive Bayes</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Impor library yang diperlukan</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># Memuat dataset dari file CSV</span>
<span class="n">heart_failure_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;heart_failure_clinical_records.csv&#39;</span><span class="p">)</span>

<span class="c1"># Memisahkan fitur (X) dan target (y) dari dataset</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">heart_failure_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">])</span>  <span class="c1"># Anggap &#39;death_event&#39; adalah kolom target</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">heart_failure_data</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">]</span>

<span class="c1"># Memisahkan dataset menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

<span class="c1"># Menggabungkan fitur dan label data latih ke dalam DataFrame untuk disimpan</span>
<span class="n">train_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Menggabungkan fitur dan label data uji ke dalam DataFrame untuk disimpan</span>
<span class="n">test_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Konfirmasi penyimpanan</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data train dan test berhasil disimpan.&quot;</span><span class="p">)</span>

<span class="c1"># Membangun model Naive Bayes Gaussian</span>
<span class="n">gnb_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>

<span class="c1"># Melatih model menggunakan data latih</span>
<span class="n">gnb_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Memprediksi label untuk data uji</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Evaluasi performa model</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Akurasi: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">)</span>

<span class="c1"># Memprediksi kelas untuk data baru</span>
<span class="n">new_data_point</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">]]</span>
<span class="n">predicted_class</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">new_data_point</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hasil target yang diprediksi untuk data baru:&#39;</span><span class="p">,</span> <span class="n">predicted_class</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data train dan test berhasil disimpan.
Akurasi: 75.00%
Hasil target yang diprediksi untuk data baru: [1]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but GaussianNB was fitted with feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
</section>
<section id="ensemble-learning">
<h3>4.2 Ensemble Learning<a class="headerlink" href="#ensemble-learning" title="Link to this heading">#</a></h3>
<img src="gambar/image-20240620-214102.png" width="50%" align="" /><p>Metode ensemble learning adalah sebuah teknik di dalam machine learning di mana beberapa model pembelajaran digabungkan bersama-sama untuk meningkatkan kinerja prediksi dibandingkan dengan penggunaan model tunggal. Pendekatan ini bekerja dengan cara mengumpulkan prediksi dari beberapa model individu dan menggabungkannya untuk membuat prediksi akhir yang lebih kuat dan lebih stabil. Ensemble learning dapat digunakan dalam berbagai jenis model, termasuk pohon keputusan, k-nearest neighbors, dan model berbasis jaringan neural.</p>
<p>Ada beberapa jenis metode ensemble learning, di antaranya:</p>
<ol class="arabic simple">
<li><p>Bagging (Bootstrap Aggregating) : Membangun beberapa model independen dan kemudian menggabungkan hasil prediksi mereka. Contohnya, Random Forest adalah salah satu metode bagging yang paling umum.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Boosting : Membangun serangkaian model yang secara berurutan diperbaiki dari model sebelumnya. Setiap model berikutnya fokus pada data yang tidak terprediksi dengan baik oleh model sebelumnya. Contohnya, AdaBoost dan Gradient Boosting Machines (GBM) adalah beberapa algoritma boosting yang populer.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Stacking : Menggabungkan prediksi dari beberapa model dasar dengan model meta-learner. Model meta-learner ini menggunakan prediksi dari model-model dasar sebagai fitur untuk membuat prediksi akhir.</p></li>
</ol>
<p>Metode ensemble learning sering kali menghasilkan performa yang lebih baik daripada model tunggal, terutama dalam kasus di mana data kompleks atau noisy, dan dapat membantu mengurangi overfitting. Itulah sebabnya teknik ini menjadi sangat populer dalam kompetisi data science dan aplikasi kehidupan nyata. Dari beberapa jenis metode yang disebutkan, kami hanya akan menggunakan bagging dan stacking untuk meningkatkan model.</p>
</section>
<section id="stacking-classifier-meta-classifier">
<h3>4.2.1 Stacking Classifier (Meta Classifier)<a class="headerlink" href="#stacking-classifier-meta-classifier" title="Link to this heading">#</a></h3>
<p>(Stacked Generalization) adalah teknik pembelajaran ensemble yang bertujuan untuk menggabungkan beberapa model untuk meningkatkan kinerja prediktif. Ini melibatkan langkah-langkah berikut:</p>
<ul class="simple">
<li><p>Model Dasar : Melatih beberapa model pada kumpulan data yang sama.</p></li>
</ul>
<ul class="simple">
<li><p>Meta-Model : Melatih model baru untuk menggabungkan prediksi model dasar. Menggunakan prediksi model dasar sebagai fitur masukan untuk model meta.</p></li>
</ul>
<p>Keuntungan / Kelebihan nya :</p>
<ul class="simple">
<li><p>Memanfaatkan Keanekaragaman Model : Dengan menggabungkan berbagai jenis model, penumpukan dapat menangkap berbagai pola dalam data.</p></li>
</ul>
<ul class="simple">
<li><p>Meningkatkan Performa : Model meta mempelajari cara terbaik untuk menggabungkan prediksi dari model dasar, yang sering kali menghasilkan peningkatan performa dibandingkan model individual.</p></li>
</ul>
<img src="gambar/image-20240620-214812.png" width="75%" align="" /><p>Langkah - langkah proses Gambar Stacking Diatas :</p>
<ol class="arabic simple">
<li><p>Persiapan Data: Pisahkan dataset menjadi fitur (X) dan label (y), kemudian bagi dataset menjadi set pelatihan dan pengujian.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Latih Model Dasar (Base Models): Latih beberapa model dasar menggunakan data pelatihan.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Kumpulkan Prediksi dari Model Dasar: Gunakan model dasar yang telah dilatih untuk membuat prediksi pada set pelatihan dan pengujian.</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Latih Meta-Classifier:Gunakan prediksi dari model dasar sebagai fitur baru untuk melatih meta-classifier.</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Evaluasi dan Prediksi: Gunakan meta-classifier untuk membuat prediksi akhir dan evaluasi kinerja model.</p></li>
</ol>
<p>Setelah kita memahami dengan baik Stacking classifier dan langkah-langkahnya berikut kita implementasikan.</p>
<p>Meta Predict Classifier Model Naive Bayes Manual</p>
<p>Model P1</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install paket yang diperlukan</span>
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>ucimlrepo

<span class="c1"># Import library yang diperlukan</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># Memuat dataset dari file CSV</span>
<span class="n">heart_failure_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;heart_failure_clinical_records.csv&#39;</span><span class="p">)</span>

<span class="c1"># Memisahkan fitur dan target dari dataset</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">heart_failure_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">])</span>  <span class="c1"># Mengasumsikan &#39;death_event&#39; sebagai kolom target</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">heart_failure_data</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">]</span>

<span class="c1"># Encode labels jika diperlukan</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Bagi dataset menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Inisialisasi classifier KNN dengan k=3</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Latih model pada data latih</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data latih</span>
<span class="n">XTrain1</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">accuracy_train</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">XTrain1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi pada data train: </span><span class="si">{</span><span class="n">accuracy_train</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data uji</span>
<span class="n">XTest1</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">accuracy_test</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">XTest1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi pada data test: </span><span class="si">{</span><span class="n">accuracy_test</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Prediksi untuk instance baru</span>
<span class="n">new_data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">]]</span>
<span class="n">predicted_class</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">new_data</span><span class="p">)</span>
<span class="n">predicted_class</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">predicted_class</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediksi Class Varietas untuk data inputan baru: </span><span class="si">{</span><span class="n">predicted_class</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ucimlrepo in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (0.0.7)
Requirement already satisfied: pandas&gt;=1.0.0 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from ucimlrepo) (2.2.2)
Requirement already satisfied: certifi&gt;=2020.12.5 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from ucimlrepo) (2024.2.2)
Requirement already satisfied: numpy&gt;=1.26.0 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.0.0)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.1)
Requirement already satisfied: tzdata&gt;=2022.7 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from pandas&gt;=1.0.0-&gt;ucimlrepo) (2024.1)
Requirement already satisfied: six&gt;=1.5 in c:\users\asus\appdata\local\programs\python\python312\lib\site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;=1.0.0-&gt;ucimlrepo) (1.16.0)
Akurasi pada data train: 0.80
Akurasi pada data test: 0.47
Prediksi Class Varietas untuk data inputan baru: [0]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[notice] A new release of pip is available: 24.0 -&gt; 24.1
[notice] To update, run: python.exe -m pip install --upgrade pip
C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but KNeighborsClassifier was fitted with feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
<p>Model P2</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import library yang diperlukan</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># Memuat dataset dari file CSV</span>
<span class="n">heart_failure_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;heart_failure_clinical_records.csv&#39;</span><span class="p">)</span>

<span class="c1"># Memisahkan fitur dan target dari dataset</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">heart_failure_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">])</span>  <span class="c1"># Mengasumsikan &#39;death_event&#39; sebagai kolom target</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">heart_failure_data</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">]</span>

<span class="c1"># Encode labels jika diperlukan</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Bagi dataset menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Inisialisasi classifier KNN dengan k=5</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Latih model pada data latih</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data latih</span>
<span class="n">XTrain2</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">accuracy_train</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">XTrain2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi pada data train: </span><span class="si">{</span><span class="n">accuracy_train</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data uji</span>
<span class="n">XTest2</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">accuracy_test</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">XTest2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi pada data test: </span><span class="si">{</span><span class="n">accuracy_test</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Prediksi untuk instance baru</span>
<span class="n">new_data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">]]</span>
<span class="n">predicted_class</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">new_data</span><span class="p">)</span>
<span class="n">predicted_class</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">predicted_class</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediksi Class Varietas untuk data inputan baru: </span><span class="si">{</span><span class="n">predicted_class</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi pada data train: 0.77
Akurasi pada data test: 0.48
Prediksi Class Varietas untuk data inputan baru: [0]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but KNeighborsClassifier was fitted with feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
<p>Menggabungkan hasil prediksi 2 model</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Buat DataFrame gabungan untuk data pengujian</span>
<span class="n">combined_train_df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;P1&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">XTrain1</span><span class="p">),</span>
    <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">XTrain2</span><span class="p">),</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>
<span class="p">})</span>

<span class="n">combined_train_df1</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;combine_train1.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Buat DataFrame gabungan untuk data pengujian</span>
<span class="n">combined_test_df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;P1&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">XTest1</span><span class="p">),</span>
    <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">XTest2</span><span class="p">),</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="p">})</span>

<span class="n">combined_test_df1</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;combine_test1.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Hasil Train</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;combine_train1.csv&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>P1</th>
      <th>P2</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>234</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>235</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>236</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>237</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>238</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>239 rows × 3 columns</p>
</div></div></div>
</div>
<p>Hasil Test</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;combine_test1.csv&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>P1</th>
      <th>P2</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>24</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>26</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>27</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>29</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>30</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>31</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>32</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>33</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>34</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>35</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>36</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>37</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>38</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>39</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>40</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>41</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>42</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>43</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>44</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>45</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>46</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>47</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>48</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>49</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>50</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>51</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>52</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>53</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>54</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>55</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>56</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>57</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>58</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>59</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Implementasi stacking dengan scikit-learn</p>
<p>Setelah memahami proses stacking classifier untuk meningkatkan model secara manual, langkah berikutnya adalah memanfaatkan library untuk melatih model dasar. Melatih model dasar satu per satu bukanlah solusi praktis, terutama karena kami berencana menggunakan 20 model KNN dengan nilai K yang berbeda. Oleh karena itu, kami akan menggunakan bantuan library untuk mempercepat dan mempermudah proses pelatihan ini. Prediksi dari 20 model tersebut kemudian akan digabungkan dan dimasukkan ke dalam model Gaussian Naive Bayes untuk tahap akhir prediksi. Dengan pendekatan ini, kami berharap dapat mengoptimalkan kinerja model secara keseluruhan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">make_pipeline</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">StackingClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="c1"># Load dataset from CSV</span>
<span class="n">heart_failure_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;heart_failure_clinical_records.csv&#39;</span><span class="p">)</span>

<span class="c1"># Separate features and target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">heart_failure_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">values</span>  <span class="c1"># Assuming &#39;death_event&#39; is the target column</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">heart_failure_data</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Split data into training and testing sets</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Create list of estimators for StackingClassifier</span>
<span class="n">estimators</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;knn&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">//</span> <span class="mi">3</span><span class="p">),</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>

<span class="c1"># Initialize StackingClassifier with GaussianNB as final estimator</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">StackingClassifier</span><span class="p">(</span>
    <span class="n">estimators</span><span class="o">=</span><span class="n">estimators</span><span class="p">,</span> <span class="n">final_estimator</span><span class="o">=</span><span class="n">GaussianNB</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Train StackingClassifier</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluate accuracy for each KNN model and store the results</span>
<span class="n">accuracies</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">estimator</span> <span class="ow">in</span> <span class="n">estimators</span><span class="p">:</span>
    <span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy of </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">accuracies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">accuracy</span><span class="p">)</span>

<span class="c1"># Display accuracy of each KNN model</span>
<span class="k">for</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">accuracy</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">estimators</span><span class="p">],</span> <span class="n">accuracies</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Evaluate predictions for new data point by each KNN model</span>
<span class="c1"># Example new data point with 13 features</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">]]</span>

<span class="n">predictions</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">estimator</span> <span class="ow">in</span> <span class="n">estimators</span><span class="p">:</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">predictions</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pred</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediction of </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">pred</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Counting predictions for each class</span>
<span class="n">unique_classes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">counts</span> <span class="o">=</span> <span class="p">{</span><span class="bp">cls</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="n">predictions</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">pred</span> <span class="o">==</span> <span class="bp">cls</span><span class="p">)</span> <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">unique_classes</span><span class="p">}</span>

<span class="c1"># Display number of predictions for each class</span>
<span class="k">for</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Class </span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> predictions&quot;</span><span class="p">)</span>

<span class="c1"># Predict for new data using StackingClassifier</span>
<span class="n">prediction</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Prediction for X_new: </span><span class="si">{</span><span class="n">prediction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Evaluate overall performance of the stacking classifier</span>
<span class="n">avg_acc</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Overall Stacking Classifier Performance:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Accuracy: </span><span class="si">{</span><span class="n">avg_acc</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Obtain predictions from the model</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy of knn1: 0.4667
Accuracy of knn2: 0.5667
Accuracy of knn3: 0.6000
Accuracy of knn4: 0.6000
Accuracy of knn5: 0.5833
Accuracy of knn6: 0.6167
Accuracy of knn7: 0.6167
Accuracy of knn8: 0.6167
Accuracy of knn9: 0.6167
Accuracy of knn10: 0.6167
Accuracy of knn11: 0.6167
Accuracy of knn12: 0.6167
Accuracy of knn13: 0.6167
Accuracy of knn14: 0.6167
Accuracy of knn15: 0.6167
Accuracy of knn16: 0.6167
Accuracy of knn17: 0.6167
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy of knn18: 0.6167
Accuracy of knn19: 0.6167
Accuracy of knn20: 0.6167
knn1: 0.4667
knn2: 0.5667
knn3: 0.6000
knn4: 0.6000
knn5: 0.5833
knn6: 0.6167
knn7: 0.6167
knn8: 0.6167
knn9: 0.6167
knn10: 0.6167
knn11: 0.6167
knn12: 0.6167
knn13: 0.6167
knn14: 0.6167
knn15: 0.6167
knn16: 0.6167
knn17: 0.6167
knn18: 0.6167
knn19: 0.6167
knn20: 0.6167
Prediction of knn1: 0
Prediction of knn2: 0
Prediction of knn3: 1
Prediction of knn4: 0
Prediction of knn5: 0
Prediction of knn6: 0
Prediction of knn7: 0
Prediction of knn8: 0
Prediction of knn9: 0
Prediction of knn10: 0
Prediction of knn11: 0
Prediction of knn12: 0
Prediction of knn13: 0
Prediction of knn14: 0
Prediction of knn15: 0
Prediction of knn16: 0
Prediction of knn17: 0
Prediction of knn18: 0
Prediction of knn19: 0
Prediction of knn20: 0
Class 0: 19 predictions
Class 1: 1 predictions

Prediction for X_new: 1

Overall Stacking Classifier Performance:
Accuracy: 0.5000
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              precision    recall  f1-score   support

           0       0.59      0.59      0.59        37
           1       0.35      0.35      0.35        23

    accuracy                           0.50        60
   macro avg       0.47      0.47      0.47        60
weighted avg       0.50      0.50      0.50        60
</pre></div>
</div>
</div>
</div>
</section>
<section id="bagging-bootstrap-aggregating">
<h3>4.2.2 Bagging (Bootstrap Aggregating)<a class="headerlink" href="#bagging-bootstrap-aggregating" title="Link to this heading">#</a></h3>
<img src="gambar/image-20240620-221633.png" width="75%" align="" /><p>Bagging, singkatan dari bootstrap aggregating, utamanya digunakan dalam klasifikasi dan regresi. Ini meningkatkan akurasi model dengan menggunakan pohon keputusan, yang pada gilirannya mengurangi variasi dengan signifikan. Dengan mengurangi variasi, akurasi meningkat dan risiko overfitting berkurang, yang sering menjadi masalah dalam banyak model prediksi. Secara umum, dalam konteks masalah regresi, metode ini melibatkan pengambilan rata-rata dari prediksi yang dihasilkan, dan nilai rata-rata tersebut kemudian digunakan sebagai prediksi keseluruhan untuk model gabungan.</p>
<p>Proses Klasifikasi Bagging melibatkan langkah-langkah berikut :</p>
<ol class="arabic simple">
<li><p>Kita mengambil dataset pelatihan awal yang dimiliki.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Lalu kita membuat sejumlah m subset data dari set pelatihan. Kami mengambil subset N titik sampel dari dataset awal untuk setiap subset. Setiap subset diambil dengan penggantian. Artinya, titik data tertentu dapat diambil sampelnya lebih dari satu kali.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Lalu model yang sama (classifier) diterapkan pada setiap set data pelatihan ini dan menghasilkan prediksi masing-masing.</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Setiap model membuat prediksi.</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Terakhir tingga menggabungkan prediksi menjadi satu prediksi. Untuk ini, gunakan max voting atau averaging.</p></li>
</ol>
<p>Setelah memahami maka pada percobaan kali ini bagging kami menggunakan 20 gaussian naive bayes yang menerima subset berbeda satu sama lain. Berikut Ini Implementasinya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Memuat dataset dari file CSV</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;heart_failure_clinical_records.csv&#39;</span><span class="p">)</span>

<span class="c1"># Menghapus kolom &#39;Unnamed: 0&#39; jika ada</span>
<span class="k">if</span> <span class="s1">&#39;Unnamed: 0&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Memisahkan atribut dan label</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">])</span>  <span class="c1"># Atribut</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;death_event&#39;</span><span class="p">]</span>  <span class="c1"># Label</span>

<span class="c1"># Pembagian dataset menjadi data latih dan data uji dengan rasio 80:20</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Parameter untuk teknik Bagging</span>
<span class="n">n_estimators</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span> <span class="o">/</span> <span class="n">n_estimators</span><span class="p">)</span>

<span class="c1"># Inisialisasi list untuk menyimpan model dan akurasi</span>
<span class="n">estimators</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">accuracies</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">pred</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Data baru yang akan diprediksi</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">]],</span>
                     <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data baru yang akan diprediksi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Membuat model Gaussian Naive Bayes untuk setiap subset</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_estimators</span><span class="p">):</span>
    <span class="c1"># Membuat sampel bootstrap</span>
    <span class="n">bootstrap_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">),</span> <span class="n">n_samples</span><span class="p">)</span>
    <span class="n">X_train_bootstrap</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">bootstrap_indices</span><span class="p">]</span>
    <span class="n">y_train_bootstrap</span> <span class="o">=</span> <span class="n">y_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">bootstrap_indices</span><span class="p">]</span>
    
    <span class="c1"># Melatih model</span>
    <span class="n">gnb_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
    <span class="n">gnb_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_bootstrap</span><span class="p">,</span> <span class="n">y_train_bootstrap</span><span class="p">)</span>
    <span class="n">estimators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gnb_model</span><span class="p">)</span>
    
    <span class="c1"># Evaluasi model    </span>
    <span class="n">prediksi</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>
    <span class="n">pred</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prediksi</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># Menyimpan prediksi dalam list pred</span>

    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">akurasi</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">accuracies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">akurasi</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi Estimator </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">akurasi</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediksi Estimator </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">prediksi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>

<span class="c1"># Majority vote untuk prediksi data baru</span>
<span class="n">prediksi_majority_vote</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediksi mayoritas untuk data baru: </span><span class="si">{</span><span class="n">prediksi_majority_vote</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Menghitung jumlah prediksi untuk setiap kelas</span>
<span class="n">class_counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">minlength</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y</span><span class="p">)))</span>
<span class="k">for</span> <span class="n">kelas</span><span class="p">,</span> <span class="n">jumlah</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">class_counts</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah prediksi untuk kelas </span><span class="si">{</span><span class="n">kelas</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">jumlah</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Menghitung rata-rata akurasi dari semua estimators</span>
<span class="n">akurasi_rata_rata</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">accuracies</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi rata-rata dari semua estimators: </span><span class="si">{</span><span class="n">akurasi_rata_rata</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Plot akurasi untuk masing-masing estimator</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_estimators</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">accuracies</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Estimator&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Akurasi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Akurasi dari Setiap Estimator Gaussian Naive Bayes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_estimators</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Plot jumlah prediksi untuk setiap kelas pada data baru</span>
<span class="n">label_kelas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">nilai_kelas</span> <span class="o">=</span> <span class="p">[</span><span class="n">class_counts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">label_kelas</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">label_kelas</span><span class="p">,</span> <span class="n">nilai_kelas</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span> <span class="s1">&#39;salmon&#39;</span><span class="p">,</span> <span class="s1">&#39;skyblue&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Kelas&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Jumlah Prediksi&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Jumlah Prediksi untuk Setiap Kelas oleh Estimators untuk Data Baru&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data baru yang akan diprediksi:
   age  anaemia  creatinine_phosphokinase  diabetes  ejection_fraction  \
0   60        1                       130         0                  0   

   high_blood_pressure  platelets  serum_creatinine  serum_sodium  sex  \
0                    1          0               120             0    0   

   smoking  time  
0        0   130  

Akurasi Estimator 1 : 0.6000
Prediksi Estimator 1 : 1

Akurasi Estimator 2 : 0.6833
Prediksi Estimator 2 : 0

Akurasi Estimator 3 : 0.6500
Prediksi Estimator 3 : 1

Akurasi Estimator 4 : 0.6167
Prediksi Estimator 4 : 0

Akurasi Estimator 5 : 0.6667
Prediksi Estimator 5 : 0

Akurasi Estimator 6 : 0.6167
Prediksi Estimator 6 : 1

Akurasi Estimator 7 : 0.7167
Prediksi Estimator 7 : 1

Akurasi Estimator 8 : 0.7500
Prediksi Estimator 8 : 1

Akurasi Estimator 9 : 0.6167
Prediksi Estimator 9 : 0

Akurasi Estimator 10 : 0.7667
Prediksi Estimator 10 : 1

Akurasi Estimator 11 : 0.6000
Prediksi Estimator 11 : 1

Akurasi Estimator 12 : 0.6167
Prediksi Estimator 12 : 0

Akurasi Estimator 13 : 0.7667
Prediksi Estimator 13 : 0

Akurasi Estimator 14 : 0.7333
Prediksi Estimator 14 : 0

Akurasi Estimator 15 : 0.5833
Prediksi Estimator 15 : 0

Akurasi Estimator 16 : 0.7167
Prediksi Estimator 16 : 1

Akurasi Estimator 17 : 0.4000
Prediksi Estimator 17 : 1

Akurasi Estimator 18 : 0.7167
Prediksi Estimator 18 : 1
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi Estimator 19 : 0.6000
Prediksi Estimator 19 : 0

Akurasi Estimator 20 : 0.6333
Prediksi Estimator 20 : 1

Prediksi mayoritas untuk data baru: 1
Jumlah prediksi untuk kelas 0: 9
Jumlah prediksi untuk kelas 1: 11
Akurasi rata-rata dari semua estimators: 0.6525
</pre></div>
</div>
<img alt="_images/dd12dded1f7a497ee5a2ecfea6b48ea51da1dba83e15f2b540c8b034f3e62865.png" src="_images/dd12dded1f7a497ee5a2ecfea6b48ea51da1dba83e15f2b540c8b034f3e62865.png" />
<img alt="_images/11e7d3945aeba49a3236cd6362cea5712db8f3b8a2dfb95e4b7c58227d946e49.png" src="_images/11e7d3945aeba49a3236cd6362cea5712db8f3b8a2dfb95e4b7c58227d946e49.png" />
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="e-kesimpulan-hasil-model-yang-didapatkan">
<h1>E. Kesimpulan Hasil Model Yang Didapatkan<a class="headerlink" href="#e-kesimpulan-hasil-model-yang-didapatkan" title="Link to this heading">#</a></h1>
<p>Dari ketiga yang saya buat sebelumnya dapat dikatakan baik atau bagus, hal itu dapat dilihat dari akurasi yang didapat dari masing-masing sebagai berikut :</p>
<ul class="simple">
<li><p>single model dengan GNB : mendapatkan akurasi 0.7500 atau 75%.</p></li>
</ul>
<ul class="simple">
<li><p>stacking dengan KNN (model dasar) dan GNB (model meta) : mendapatkan akurasi 0.5000 atau 50%.</p></li>
</ul>
<ul class="simple">
<li><p>bagging dengan GNB : mendapatkan akurasi 0.6525 atau 65%.</p></li>
</ul>
<p>Dari ketiga model diatas dapat dilihat bahwa model terbaik adalah single model dengan GNB karena mendapatkan akurasi tertinggi dari ketiga model yang telah dibuat yakni 0.7500 atau 75%. Jadi langkah selanjutnya kita pakai model terbaik tersebut untuk implementasinya.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="f-deployment-implementasi-model">
<h1>F. Deployment Implementasi Model<a class="headerlink" href="#f-deployment-implementasi-model" title="Link to this heading">#</a></h1>
<p>Pada tahap ini, saya akan membuat implementasi model tunggal dengan menggunakan GNB sebagai model untuk menentukan klasifikasi pada catatan klinis kegagalan jantung. Hal ini dilakukan untuk mempermudah proses analisis dan prediksi terkait kondisi kesehatan pasien yang mengalami kegagalan jantung. Dengan demikian, diharapkan dapat meningkatkan efektivitas dalam penanganan dan pengelolaan penyakit jantung secara lebih akurat dan efisien. Sehingga bisa kita digunakan untuk memprediksi kematian akibat gagal jantung.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="g-implementasi-web">
<h1>G. Implementasi Web<a class="headerlink" href="#g-implementasi-web" title="Link to this heading">#</a></h1>
<p>Tahapan Implementasi Flask untuk Prediksi Heart Failure Clinical Records.</p>
<ol class="arabic simple">
<li><p>Mengimpor Library yang Diperlukan</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Inisialisasi Aplikasi Flask</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Memuat dan Melatih Model</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Mendefinisikan Rute Utama dan Logika Prediksi</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Menjalankan Aplikasi Flask</p></li>
</ol>
<p>Maka Otomatis Web Flask bisa kita gunakan jika kita telah melakukan tahapan yang benar serta telah membuat code nya. Berikut adalah link implementasi yang sudah saya upload di github : <a class="github reference external" href="https://github.com/AliSyamsuddin/Heart-Failure-Classification">AliSyamsuddin/Heart-Failure-Classification</a></p>
<p>Hasil Implementasi Web</p>
<p>Link menuju website yang sudah saya buat atau hosting : <a class="reference external" href="https://tandonsky.pythonanywhere.com/">https://tandonsky.pythonanywhere.com/</a></p>
<img src="gambar/image-20240626-185641.png" width="" align="" /><p>Ini adalah tampilan aplikasi web yang sudah saya buat, disini kita diminta untuk mengisi inputan yang ada lalu selanjutnya bisa kita prediksi.</p>
<img src="gambar/image-20240626-190019.png" width="" align="" /><p>Kita coba inputkan data yanng sama dengan code GNB yang sebelumnya kita buat yakni [60, 1, 130, 0, 0, 1 0, 120, 0, 0, 0,130]] dimana ini seharusnya akan menghasilkan 1 (Menunjukkan bahwa pasien meninggal selama masa tindak lanjut.)</p>
<img src="gambar/image-20240626-190121.png" width="" align="" /><p>seperti yang kita ketahui diatas bahawa akurasi tertinggi adalah GNB dengan akurasi 75%, yang dimana ini mendekati sempurna. Terlihat disini bahwasanya hasil prediksi menunjukkan angka 1 dimana hasil ini sama seperti perhitungan pada code.</p>
<a style='text-decoration:none;line-height:16px;display:flex;color:#5B5B62;padding:10px;justify-content:end;' href='https://deepnote.com?utm_source=created-in-deepnote-cell&projectId=85a74364-f201-44cf-9dfb-c49ab39de16c' target="_blank">
<img alt='Created in deepnote.com' style='display:inline;max-height:16px;margin:0px;margin-right:7.5px;' src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkxhbmRpbmciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzUuMDAwMDAwLCAtNzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjM1LjAwMDAwMCwgNzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aC0yMCIgZmlsbD0iIzAyNjVCNCIgcG9pbnRzPSIyLjM3NjIzNzYyIDgwIDM4LjA0NzY2NjcgODAgNTcuODIxNzgyMiA3My44MDU3NTkyIDU3LjgyMTc4MjIgMzIuNzU5MjczOSAzOS4xNDAyMjc4IDMxLjY4MzE2ODMiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNS4wMDc3MTgsODAgQzQyLjkwNjIwMDcsNzYuNDU0OTM1OCA0Ny41NjQ5MTY3LDcxLjU0MjI2NzEgNDguOTgzODY2LDY1LjI2MTk5MzkgQzUxLjExMjI4OTksNTUuODQxNTg0MiA0MS42NzcxNzk1LDQ5LjIxMjIyODQgMjUuNjIzOTg0Niw0OS4yMTIyMjg0IEMyNS40ODQ5Mjg5LDQ5LjEyNjg0NDggMjkuODI2MTI5Niw0My4yODM4MjQ4IDM4LjY0NzU4NjksMzEuNjgzMTY4MyBMNzIuODcxMjg3MSwzMi41NTQ0MjUgTDY1LjI4MDk3Myw2Ny42NzYzNDIxIEw1MS4xMTIyODk5LDc3LjM3NjE0NCBMMzUuMDA3NzE4LDgwIFoiIGlkPSJQYXRoLTIyIiBmaWxsPSIjMDAyODY4Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwzNy43MzA0NDA1IEwyNy4xMTQ1MzcsMC4yNTcxMTE0MzYgQzYyLjM3MTUxMjMsLTEuOTkwNzE3MDEgODAsMTAuNTAwMzkyNyA4MCwzNy43MzA0NDA1IEM4MCw2NC45NjA0ODgyIDY0Ljc3NjUwMzgsNzkuMDUwMzQxNCAzNC4zMjk1MTEzLDgwIEM0Ny4wNTUzNDg5LDc3LjU2NzA4MDggNTMuNDE4MjY3Nyw3MC4zMTM2MTAzIDUzLjQxODI2NzcsNTguMjM5NTg4NSBDNTMuNDE4MjY3Nyw0MC4xMjg1NTU3IDM2LjMwMzk1NDQsMzcuNzMwNDQwNSAyNS4yMjc0MTcsMzcuNzMwNDQwNSBDMTcuODQzMDU4NiwzNy43MzA0NDA1IDkuNDMzOTE5NjYsMzcuNzMwNDQwNSAwLDM3LjczMDQ0MDUgWiIgaWQ9IlBhdGgtMTkiIGZpbGw9IiMzNzkzRUYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+' > </img>
Created in <span style='font-weight:600;margin-left:4px;'>Deepnote</span></a></section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="markdown.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Markdown Files</p>
      </div>
    </a>
    <a class="right-next"
       href="markdown-notebooks.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Notebooks with MyST Markdown</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">~ Model Klasifikasi Data “𝓗𝓮𝓪𝓻𝓽 𝓕𝓪𝓲𝓵𝓾𝓻𝓮 𝓒𝓵𝓲𝓷𝓲𝓬𝓪𝓵 𝓡𝓮𝓬𝓸𝓻𝓭𝓼” ~</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#a-analisis-untuk-memprediksi-kematian-akibat-gagal-jantung">A. Analisis Untuk Memprediksi Kematian Akibat Gagal Jantung.</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#latar-belakang-dan-tujuan">1. Latar Belakang dan Tujuan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-data">1.1 Deskripsi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-masalah">1.2 Deskripsi Masalah</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#b-memahami-data-heart-failure-clinical-records">B. Memahami Data Heart Failure Clinical Records</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-data">2. Apa Itu Data?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengumpulan-data-mencari-dataset">2.1 Pengumpulan Data (Mencari Dataset)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-dan-menampilkan-dataset">2.3 Mengambil dan Menampilkan Dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-penjelasan-dataset">2.4 Deskripsi Penjelasan Dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-mengetahui-kualitas-datasets-heart-failure-clinical-records">2.5 Explore / Mengetahui Kualitas Datasets Heart Failure Clinical Records</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jumlah-data-fitur-dan-tipe-data">2.5.1 Jumlah Data Fitur dan Tipe Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jumlah-data-dari-datasets-raisin">2.5.2 Jumlah Data Dari Datasets Raisin</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-datasets">2.5.3 Deskripsi Datasets</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-kualitas-data">3. Identifikasi Kualitas Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-data-missing-values">3.1 Deteksi Data Missing Values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-data-outlier">3.2 Deteksi Data Outlier</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-duplikasi-datasets">3.3 Deteksi Duplikasi Datasets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#c-preprocessing-data">C. Preprocessing Data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#d-modelling">D. Modelling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemilihan-model">4. Pemilihan Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gaussian-naive-bayes-classification">4.1 GAUSSIAN NAIVE BAYES CLASSIFICATION</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#melakukan-prediksi-dengan-bantuan-sklearn-naive-bayes">4.1.1 Melakukan Prediksi dengan bantuan Sklearn Naive Bayes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-learning">4.2 Ensemble Learning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stacking-classifier-meta-classifier">4.2.1 Stacking Classifier (Meta Classifier)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bagging-bootstrap-aggregating">4.2.2 Bagging (Bootstrap Aggregating)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#e-kesimpulan-hasil-model-yang-didapatkan">E. Kesimpulan Hasil Model Yang Didapatkan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#f-deployment-implementasi-model">F. Deployment Implementasi Model</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-implementasi-web">G. Implementasi Web</a></li>
</ul>

</nav></div>
<h1>---------- Sekian & Terimakasih ----------</h1>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="assets/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="assets/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>